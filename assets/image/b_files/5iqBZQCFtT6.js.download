if (self.CavalryLogger) { CavalryLogger.start_js(["J\/MC5i0"]); }

__d("CometStickerRelay_sticker.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"width"}],b={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"height"},{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"width"}],kind:"Fragment",metadata:null,name:"CometStickerRelay_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"LOG",path:"pack.name"}],storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[{kind:"RequiredField",field:b,action:"LOG",path:"sprite_image.uri"}],storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{kind:"RequiredField",field:b,action:"LOG",path:"image.uri"},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null}],type:"Sticker",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentStickerAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Literal",name:"height",value:80},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:80}],c={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},d=[a];return{kind:"SplitOperation",metadata:{},name:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[c],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null}],type:"Sticker",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{args:[{kind:"Literal",name:"height",value:80},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:80}],kind:"FragmentSpread",name:"CometStickerRelay_sticker"}],storageKey:null}],storageKey:null}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null};e.exports=a}),null);
__d("cometAnimationStateReducer",[],(function(a,b,c,d,e,f){"use strict";f.getInitialState=g;f.reducer=h;function g(){return Object.freeze({hasAnimated:!1,iterationIndex:1,shouldAnimate:!1})}function h(a,b){switch(b.type){case"FORCE_STOP_ANIMATION":return l(a,b);case"RESTART_ANIMATION":return j(a,b);case"START_ANIMATION":return i(a,b);case"NEXT_ITERATION":return k(a,b);default:b.type;break}return a}function i(a,b){b=a.hasAnimated;return b?h(a,{type:"RESTART_ANIMATION"}):babelHelpers["extends"]({},a,{shouldAnimate:!0})}function j(a,b){b=h(a,{type:"FORCE_STOP_ANIMATION"});return babelHelpers["extends"]({},b,{shouldAnimate:!0})}function k(a,b){b=b.iterationLimit;var c=a.iterationIndex;b=c>=b;return babelHelpers["extends"]({},a,{hasAnimated:b,iterationIndex:b?1:c+1})}function l(a,b){return babelHelpers["extends"]({},a,g(),{shouldAnimate:!1})}}),null);
__d("useCometAnimationStateReducer",["cometAnimationStateReducer","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.frameCount,d=a.frameRate,e=a.iterationLimit;a=h.useReducer(b("cometAnimationStateReducer").reducer,null,b("cometAnimationStateReducer").getInitialState);var f=a[0],g=a[1],i=f.shouldAnimate&&!f.hasAnimated,j=d*c;return h.useMemo(function(){return{canAnimate:i,duration:j,nextAnimationIteration:function(){g({iterationLimit:e,type:"NEXT_ITERATION"})},startAnimation:function(){g({type:"START_ANIMATION"})}}},[i,j,e])}}),null);
__d("useMemoByObjectVariables",["areEqual","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=0;function a(a){var c=i.useRef(j),d=i.useState(a),e=d[0];d=d[1];e=!(h||(h=b("areEqual")))(a,e);e&&(c.current+=1,d(a));var f=i.useMemo(function(){return a},[c.current]);return i.useMemo(function(){return[f,c.current]},[f])}e.exports=a}),null);
__d("useCometAnimationTrigger",["react","useCometAnimationStateReducer","useMemoByObjectVariables"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function i(a,b){b=b.hovered;return b===!0&&a.hover===!0?!0:!1}function a(a){var c=a.animationTriggers;a=babelHelpers.objectWithoutPropertiesLoose(a,["animationTriggers"]);var d=h.useRef(!1),e=b("useCometAnimationStateReducer")(a);a=b("useMemoByObjectVariables")(c);var f=a[0],g=h.useMemo(function(){return f.hover===!0?function(){e.startAnimation()}:void 0},[e,f]),j=h.useMemo(function(){if(d.current===!1&&f.load===!0)return function(){d.current=!0,e.startAnimation()}},[e,f]),k=h.useCallback(function(a){return e.canAnimate||i(f,a)},[e,f]);return h.useMemo(function(){return{duration:e.duration,getShouldAnimate:k,onHoverIn:g,onLoad:j,onNextAnimationIteration:e.nextAnimationIteration}},[e,k,g,j])}}),null);
__d("useSpriteAnimation",["stylex","unrecoverableViolation","useInvalidNumberThrowsViolation","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=0;function i(a,b,c){return"__DYNAMIC__CometAnimatedSprite_"+a+"_"+b+"_"+c}function j(a){var c=a.frameCount,d=a.framesPerCol,e=a.framesPerRow;a=a.step;c=a/c*100;var f=a%e/e*100;a=Math.floor(a/e)/d*100;e=Number.isNaN(f)||Number.isNaN(a)||Number.isNaN(c)||!Number.isFinite(f)||!Number.isFinite(a)||!Number.isFinite(c);if(e===!0)throw b("unrecoverableViolation")("Invalid animation input provided.","comet_ui");return c+"% { transform: translate(-"+f+"%, -"+a+"%); }"}function k(a,c,d,e){var f=[];if(!Number.isFinite(c)||Number.isNaN(c))throw b("unrecoverableViolation")("Invalid framecount","comet_ui");for(var g=0;g<c;g++)f.push(j({frameCount:c,framesPerCol:d,framesPerRow:e,step:g}));if(f.length<=0)throw b("unrecoverableViolation")("There were no animation frames to create an animation.","comet_ui");return"\n  @keyframes "+a+" {\n    "+f.join("\n  ")+"\n  }\n"}function a(a,c,d){b("useInvalidNumberThrowsViolation")(a);b("useInvalidNumberThrowsViolation")(c);b("useInvalidNumberThrowsViolation")(d);var e=i(a,c,d);b("useLayoutEffect_SAFE_FOR_SSR")(function(){(g||(g=b("stylex"))).inject(k(e,a,c,d),h)},[e,a,c,d]);return e}}),null);
__d("CometAnimatedSprite.react",["CometSpriteBase.react","react","useCometAnimationTrigger","useInvalidNumberThrowsViolation","useSpriteAnimation","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.animationTriggers,d=a.frameCount,e=a.frameRate,f=a.framesPerCol,g=a.framesPerRow,i=a.repeatNumber;i=i===void 0?3:i;var j=a.spriteUri;a=babelHelpers.objectWithoutPropertiesLoose(a,["animationTriggers","frameCount","frameRate","framesPerCol","framesPerRow","repeatNumber","spriteUri"]);var k=h.useState(null),l=k[0];k=k[1];c=b("useCometAnimationTrigger")({animationTriggers:c,frameCount:d,frameRate:e,iterationLimit:i});var m=c.duration,n=c.getShouldAnimate;e=c.onHoverIn;i=c.onLoad;var o=c.onNextAnimationIteration,p=b("useSpriteAnimation")(d,f,g);c=b("useInvalidNumberThrowsViolation")(f*100);d=b("useInvalidNumberThrowsViolation")(g*100);f=b("useVisibilityObserver")({onVisible:i});h.useEffect(function(){var a=l;if(a!=null){a.addEventListener("animationiteration",o);return function(){a.removeEventListener("animationiteration",o)}}},[l,o]);return h.jsx(b("CometSpriteBase.react"),babelHelpers["extends"]({},a,{animationStyle:function(a){return n(a)?{animationDuration:m+"ms",animationName:p}:{animation:"none"}},containerRef:f,imgHeight:c+"%",imgRef:k,imgWidth:d+"%",onHoverIn:e,src:j}))}}),null);
__d("CometAnimatedSticker.react",["CometAnimatedSprite.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.alt,d=a.frameCount,e=a.frameRate,f=a.framesPerCol,g=a.framesPerRow,i=a.uri;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","frameCount","frameRate","framesPerCol","framesPerRow","uri"]);return h.jsx(b("CometAnimatedSprite.react"),babelHelpers["extends"]({},a,{accessibilityCaption:c,frameCount:d,frameRate:e,framesPerCol:f,framesPerRow:g,spriteUri:i}))}c=a;e.exports=c}),null);
__d("CometStickerRelay.react",["fbt","CometAnimatedSticker.react","CometRelay","CometSpriteBase.react","CometStickerRelay_sticker.graphql","react","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react");function a(a){var c=a.animationTriggers,d=a.sticker,e=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["animationTriggers","sticker","style"]);d=b("CometRelay").useFragment(h!==void 0?h:h=b("CometStickerRelay_sticker.graphql"),d);var f=d.frame_count,i=d.frame_rate,k=d.frames_per_column,l=d.frames_per_row,m=d.image,n=d.label,o=d.pack;d=d.sprite_image;d=d==null?void 0:d.uri;var p=m==null?void 0:m.uri,q=m==null?void 0:m.width,r=m==null?void 0:m.height;m=o==null?void 0:o.name;o=j.useMemo(function(){return typeof e==="function"?e({height:r,width:q}):e},[e,r,q]);n==null&&b("recoverableViolation")("Invalid label received in CometSticker","comet_ui");n=m!=null?g._("{pack name} {sticker name} sticker",[g._param("pack name",m),g._param("sticker name",n)]):(m=n)!=null?m:"";if(d!=null)if(f!=null&&i!=null&&k!=null&&l!=null)return j.jsx(b("CometAnimatedSticker.react"),babelHelpers["extends"]({},a,{alt:n,animationTriggers:c,frameCount:f,frameRate:i,framesPerCol:k,framesPerRow:l,style:o,uri:d}));else b("recoverableViolation")("Invalid sticker animation data received","comet_ui");if(p==null)throw b("unrecoverableViolation")("Invalid sticker data received","comet_ui");return j.jsx(b("CometSpriteBase.react"),babelHelpers["extends"]({},a,{accessibilityCaption:n,src:p,style:o}))}}),null);
__d("CometUFICommentStickerAttachmentStyle.react",["CometRelay","CometStickerRelay.react","CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql","UFI2ScaleRect","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=80;function a(a){a=a.styleTypeRenderer;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql"),a);a=a.attachment;a=a==null?void 0:a.media;var c=i.useCallback(function(a){var c=a.height;a=a.width;return b("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:j,maxWidth:j,srcHeight:(c=c)!=null?c:j,srcWidth:(c=a)!=null?c:j})},[]);if(a==null){b("recoverableViolation")("CometUFICommentStickerAvatarAttachmentStyle: Tried to render a sticker, but attachment information is null.","ufi2");return null}return i.jsx(b("CometStickerRelay.react"),{animationTriggers:{hover:!0,load:!0},sticker:a,style:c})}}),null);