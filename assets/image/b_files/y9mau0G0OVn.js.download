if (self.CavalryLogger) { CavalryLogger.start_js(["nSzrHDr"]); }

__d("RTCUserRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";c=(a=b("immutable")).Record({audioStreamMuteStates:a.Map(),FBID:"UNDEFINED",isGuestUser:!1,isMessengerUser:!1,isPartiesUser:!1,isVideoSubscribed:!1,lastConnectedAt:0,participantState:null,pausedDownlink:!1,profilePictureUrl:null,profileUrl:null,roomLocation:null,screenStreams:a.Set(),streams:a.Set(),userName:"",userShortName:"",vanity:""});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e.exports=d}),null);
__d("ChromeExtensionInstallError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b)||this;e.message=b;e.$ChromeExtensionInstallError3=b;e.$ChromeExtensionInstallError1=d;e.$ChromeExtensionInstallError2=c;e.name=e.constructor.name;return e}var c=b.prototype;c.toString=function(){return this.name+": "+[this.message,this.$ChromeExtensionInstallError2,this.$ChromeExtensionInstallError1].join("-")};c.getTypedMessage=function(){return this.$ChromeExtensionInstallError3};c.getInstallType=function(){return this.$ChromeExtensionInstallError2};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("CollabRTCChromeScreenSharingExtensionConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({CancelChooseDesktopMedia:"cancelChooseDesktopMedia",ClearNotification:"clearNotification",CreateNotification:"createNotification",FocusTabAndWindow:"focusTabAndWindow",GetAllNotifications:"getAllNotifications",GetLastFocusedWindow:"getLastFocusedWindow",GetNotificationsPermissionLevel:"getNotificationsPermissionLevel",GetStreamID:"getStreamID",GetTabAndWindowForSender:"getTabAndWindowForSender",GetTabForSender:"getTabForSender",GetWindow:"getWindow",Ping:"ping",UpdateNotification:"updateNotification",UpdateTab:"updateTab",UpdateWindow:"updateWindow",CreateWindow:"createWindow"});f.CollabRTCChromeScreenSharingExtensionFeature=a}),null);
__d("RTCChromeExtensionListener",["DateConsts","EventEmitter"],(function(a,b,c,d,e,f){"use strict";var g=b("DateConsts").MS_PER_SEC;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$RTCChromeExtensionListener1=!1;c.$RTCChromeExtensionListener2=null;c.$RTCChromeExtensionListener5=function(a){var b=a;if(a.type==="notificationButtonClicked"){var d=a.buttonIndex;a=a.notificationId;d!==0&&d!==1&&(b={type:"notificationClicked",notificationId:a})}c.emit(b.type,b)};c.$RTCChromeExtensionListener6=function(a){a.onMessage.removeListener(c.$RTCChromeExtensionListener5),c.$RTCChromeExtensionListener2=null,c.emit("portDisconnected"),c.$RTCChromeExtensionListener1===!1&&c.$RTCChromeExtensionListener7(g)};c.$RTCChromeExtensionListener3=b;return c}var c=b.prototype;c.$RTCChromeExtensionListener4=function(){if(this.$RTCChromeExtensionListener2==null)try{var a=window.chrome.runtime.connect(this.$RTCChromeExtensionListener3,{name:"notifications"});a.onMessage.addListener(this.$RTCChromeExtensionListener5);a.onDisconnect.addListener(this.$RTCChromeExtensionListener6);this.$RTCChromeExtensionListener2=a;this.emit("portConnected")}catch(a){this.emit("portConnectionError",a)}};c.$RTCChromeExtensionListener7=function(a){var b=this;a===void 0&&(a=10);window.setTimeout(function(){b.$RTCChromeExtensionListener4()},a)};c.connect=function(){this.$RTCChromeExtensionListener7()};c.disconnect=function(){this.$RTCChromeExtensionListener2!=null&&(this.$RTCChromeExtensionListener1=!0,this.$RTCChromeExtensionListener2.disconnect(),this.$RTCChromeExtensionListener2=null)};return b}(b("EventEmitter"));e.exports=a}),null);
__d("isInternURI",[],(function(a,b,c,d,e,f){e.exports=a;var g=new RegExp("(^|\\.)intern(mc)?\\.facebook\\.com$","i");function a(a){return g.test(a.getDomain())}}),null);
__d("RTCChromeScreenSharingExtension",["Promise","RTCChromeExtensionListener","URI","gkx","isInternURI","isInternalFBURI","isWorkplaceDotComURI","uuid"],(function(a,b,c,d,e,f){f.shoulUseInternExtension=a;f.shoulUseWorkplaceExtension=c;f.sendExtensionRequest=h;f.connectToNotifications=d;f.getMediaSourceFromExtension=e;f.stopExtensionScreenSharing=i;f.generateNotificationID=j;var g;function a(){var a=(g||(g=b("URI"))).getRequestURI();return b("gkx")("1290293")&&(b("isInternURI")(a)||b("isInternalFBURI")(a))}function c(){return b("isWorkplaceDotComURI")((g||(g=b("URI"))).getRequestURI())}a="ncfpggehkhmjpdjpefomjchjafhmbnai";d="flakgngfgjpjpfjknnkcipdebaigofln";f.INTERN_EXTENSION_ID=d;e="hmobhiioligjpeieihehfjlkmmkjemfl";i=c()===!0?e:a;f.EXTENSION_ID=i;function h(a,c){return new(b("Promise"))(function(b,d){window.chrome.runtime.sendMessage(c,a,function(a){if(a!=null)typeof a==="object"&&a.type==="error"?d(new Error(a.message)):b(a);else{a=window.chrome.runtime.lastError.message;d(new Error(a))}})})}function d(a){return new(b("RTCChromeExtensionListener"))(a)}function e(a,b){b===void 0&&(b=["screen","window","tab"]);return h({type:"getStreamID",sources:b},a)}function i(a,b){return h({type:"cancel",requestID:a},b)}function j(){return b("uuid")()}}),null);
__d("CollabRTCChromeScreenSharingExtension",["invariant","ChromeExtensionInstallError","CollabRTCChromeScreenSharingExtensionConstants","DateConsts","Promise","RTCChromeScreenSharingExtension","URI","emptyFunction","err","isFacebookURI","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i="DIALOG_USER_CANCEL",j="EXTENSION_NOT_FOUND",k="MESSAGESENDER_TAB_UNDEFINED",l="REQUEST_ID_UNDEFINED",m="UNEXPECTED_ERROR",n="FEATURE_NOT_SUPPORTED";a="data-fb-only-screensharing-extension-available";var o="data-intern-screensharing-extension-available";c="data-wp-screensharing-extension-available";var p=b("RTCChromeScreenSharingExtension").shoulUseWorkplaceExtension()?c:a;d="data-fb-only-screensharing-extension-features";var q="data-intern-screensharing-extension-features";f="data-wp-screensharing-extension-features";var r=b("RTCChromeScreenSharingExtension").shoulUseWorkplaceExtension()?f:d,s=250,t=2*b("DateConsts").MS_PER_MIN,u=2;c=function(){function a(){this.DIALOG_USER_CANCEL=i,this.EXTENSION_NOT_FOUND=j,this.MESSAGESENDER_TAB_UNDEFINED=k,this.REQUEST_ID_UNDEFINED=l,this.UNEXPECTED_ERROR=m,this.FEATURE_NOT_SUPPORTED=n,this.$2=b("RTCChromeScreenSharingExtension").EXTENSION_ID,this.$3=p,this.$4=r}var c=a.prototype;c.isInstalled=function(){var a=document;a=a.documentElement;if(b("RTCChromeScreenSharingExtension").shoulUseInternExtension()&&(a!=null&&a.hasAttribute(o))){this.$2=b("RTCChromeScreenSharingExtension").INTERN_EXTENSION_ID;this.$3=o;return!0}return a!=null&&a.hasAttribute(this.$3)?!0:!1};c.isFeatureSupported=function(a){if(!this.isInstalled())return!1;var c=document;c=c.documentElement;c=(c=c==null?void 0:(c=c.getAttribute(b("RTCChromeScreenSharingExtension").shoulUseInternExtension()?q:this.$4))==null?void 0:c.split(","))!=null?c:[];return c.indexOf(a)>=0};c.throwIfNotInstalled=function(){if(this.isInstalled()!==!0)throw b("err")(j)};c.throwIfFeatureNotSupported=function(a){this.throwIfNotInstalled();if(!this.isFeatureSupported(a)){a=new Error(n);a.stack;throw a}};c.$5=function(a,c){var d=this,e=(c=a)!=null?(c=c.chrome)!=null?c.webstore:c:c;if(e==null)return b("Promise").reject(new(b("ChromeExtensionInstallError"))("CHROME_WEBSTORE_UNDEFINED","inline"));var f=window.document.documentElement;v(this.getExtensionURL(),window.document);a!==window&&v(this.getExtensionURL(),a.document);return new(b("Promise"))(function(a,c){e.install(d.getExtensionURL(),function(){f!=null&&f.setAttribute(d.getPresenseAttr(),"true"),a()},function(a,d){c(new(b("ChromeExtensionInstallError"))("EXTENSION_INSTALL_FAILED","inline",d))})}).then(function(){d.$6(u);return"inline"})};c.$7=function(a){var c=this;if(this.isInstalled())return b("Promise").resolve("store");v(this.getExtensionURL(),window.document);window.open(this.getExtensionURL(),"_blank");return this.$6(t/s).then(function(){var a=window.document.documentElement;a.setAttribute(c.getPresenseAttr(),"true");return"store"})["catch"](function(){throw new(b("ChromeExtensionInstallError"))("EXTENSION_STORE_INSTALL_TIMEOUT","store")})};c.getPresenseAttr=function(){return this.$3};c.getFeaturesAttr=function(){return this.$4};c.isInlineInstallCapableDomain=function(){return b("isFacebookURI")((h||(h=b("URI"))).getRequestURI())};c.install=function(a){return this.isInstalled()?b("Promise").resolve():this.$8(a).then(b("emptyFunction"))["catch"](function(a){throw a})};c.$8=function(a){var b;if(!this.isInlineInstallCapableDomain())return this.$7(a);b=(b=window)!=null?(b=b.chrome)!=null?b.webstore:b:b;if(b==null)return this.$7(a);return window.opener?this.$7(a):this.$5(window,a)};c.getSourceID=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(this.isInstalled()){d.next=2;break}throw b("err")(j);case 2:d.next=4;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").getMediaSourceFromExtension(this.$2,a));case 4:c=d.sent;d.t0=c.type;d.next=d.t0==="streamID"?8:d.t0==="canceledGetStreamID"?10:11;break;case 8:this.$1=c.requestID;return d.abrupt("return",c.streamID);case 10:throw b("err")(i);case 11:throw b("err")(m);case 12:case"end":return d.stop()}},null,this)};c.getExtensionID=function(){return this.$2};c.getExtensionURL=function(){return"https://chrome.google.com/webstore/detail/"+this.$2};c.stop=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").stopExtensionScreenSharing(this.$1,this.$2));case 2:this.$1=null;case 3:case"end":return a.stop()}},null,this)};c.$6=function(a){var c=this;return b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"ping"},this.$2)["catch"](function(b){if(a<1)throw b;return w(s).then(function(){return c.$6(a-1)})})};c.isMinimumVersionNumber=function(a,c,d){var e,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:this.throwIfNotInstalled();k.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"ping"},this.$2));case 3:e=k.sent;f=e.version;g=f.split(".").map(function(a){return parseInt(a,10)}),h=g[0],i=g[1],j=g[2];if(!(h>=a)){k.next=10;break}if(!(i>c)){k.next=9;break}return k.abrupt("return",!0);case 9:return k.abrupt("return",i===c&&j>=d);case 10:return k.abrupt("return",!1);case 11:case"end":return k.stop()}},null,this)};c.focusTabAndWindow=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.throwIfNotInstalled();c.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"focusTabAndWindow"},this.$2));case 3:a=c.sent;return c.abrupt("return",{tab:a.tab,window:a.window});case 5:case"end":return c.stop()}},null,this)};c.getLastFocusedWindow=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:this.throwIfNotInstalled();d.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getLastFocusedWindow",getInfo:a},this.$2));case 3:c=d.sent;return d.abrupt("return",c.window);case 5:case"end":return d.stop()}},null,this)};c.getTabForSender=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.throwIfNotInstalled();c.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getTabForSender"},this.$2));case 3:a=c.sent;return c.abrupt("return",a.tab);case 5:case"end":return c.stop()}},null,this)};c.getTabAndWindowForSender=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.throwIfNotInstalled();c.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getTabAndWindowForSender"},this.$2));case 3:a=c.sent;return c.abrupt("return",{tab:a.tab,window:a.window});case 5:case"end":return c.stop()}},null,this)};c.getWindow=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:this.throwIfNotInstalled();e.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getWindow",windowId:a,getInfo:c},this.$2));case 3:d=e.sent;return e.abrupt("return",d.window);case 5:case"end":return e.stop()}},null,this)};c.updateTab=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:this.throwIfNotInstalled();d={type:"updateTab",updateProperties:a};c!==void 0&&(d.tabId=c);f.next=5;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest(d,this.$2));case 5:e=f.sent;return f.abrupt("return",e.tab);case 7:case"end":return f.stop()}},null,this)};c.updateWindow=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:this.throwIfNotInstalled();e.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"updateWindow",windowId:a,updateInfo:c},this.$2));case 3:d=e.sent;return e.abrupt("return",d.window);case 5:case"end":return e.stop()}},null,this)};c.createWindow=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:this.throwIfFeatureNotSupported(b("CollabRTCChromeScreenSharingExtensionConstants").CollabRTCChromeScreenSharingExtensionFeature.CreateWindow);d.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"createWindow",createData:a},this.$2));case 3:c=d.sent;return d.abrupt("return",c.window);case 5:case"end":return d.stop()}},null,this)};c.clearNotification=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.isNotificationPermissionGranted());case 2:c=e.sent;if(!(c===!1)){e.next=5;break}throw b("err")("Chrome extension notifications permission not granted");case 5:e.next=7;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"clearNotification",notificationId:a},this.$2));case 7:d=e.sent;return e.abrupt("return",d.wasCleared);case 9:case"end":return e.stop()}},null,this)};c.createNotification=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.isNotificationPermissionGranted());case 2:c=e.sent;if(!(c===!1)){e.next=5;break}throw b("err")("Chrome extension notifications permission not granted");case 5:e.next=7;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"createNotification",notificationId:b("RTCChromeScreenSharingExtension").generateNotificationID(),options:a},this.$2));case 7:d=e.sent;return e.abrupt("return",d.notificationId);case 9:case"end":return e.stop()}},null,this)};c.getAllNotifications=function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.isNotificationPermissionGranted());case 2:a=d.sent;if(!(a===!1)){d.next=5;break}throw b("err")("Chrome extension notifications permission not granted");case 5:d.next=7;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getAllNotifications"},this.$2));case 7:c=d.sent;return d.abrupt("return",Object.keys(c.notifications));case 9:case"end":return d.stop()}},null,this)};c.getNotificationsPermissionLevel=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.throwIfNotInstalled();c.next=3;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getNotificationsPermissionLevel"},this.$2));case 3:a=c.sent;return c.abrupt("return",a.level);case 5:case"end":return c.stop()}},null,this)};c.updateNotification=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.isNotificationPermissionGranted());case 2:d=f.sent;if(!(d===!1)){f.next=5;break}throw b("err")("Chrome extension notifications permission not granted");case 5:f.next=7;return b("regeneratorRuntime").awrap(b("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"updateNotification",notificationId:a,options:c},this.$2));case 7:e=f.sent;return f.abrupt("return",e.wasUpdated);case 9:case"end":return f.stop()}},null,this)};c.isNotificationPermissionGranted=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:a="denied";c.prev=1;c.next=4;return b("regeneratorRuntime").awrap(this.getNotificationsPermissionLevel());case 4:a=c.sent;c.next=10;break;case 7:c.prev=7,c.t0=c["catch"](1),a="denied";case 10:c.t1=a;c.next=c.t1==="granted"?13:c.t1==="denied"?14:15;break;case 13:return c.abrupt("return",!0);case 14:return c.abrupt("return",!1);case 15:throw b("err")("Received an unexpected permission level: "+a);case 16:case"end":return c.stop()}},null,this,[[1,7]])};return a}();function v(a,b){var c="chrome-webstore-item";if(!b.querySelector('link[href="'+a+'"][rel="'+c+'"]')){var d=b.createElement("link");d.setAttribute("href",a);d.setAttribute("rel",c);b.head!=null||g(0,6240);b.head.appendChild(d)}}function w(a){return new(b("Promise"))(function(b){return window.setTimeout(b,a)})}a=new c();e.exports=a}),null);
__d("CollabRTCChromeScreenSharing",["CollabRTCChromeScreenSharingExtension"],(function(a,b,c,d,e,f){"use strict";f.focusTabAndWindow=a;f.getLastFocusedWindow=c;f.getTabForSender=d;f.getTabAndWindowForSender=e;f.getWindow=g;f.getSourceID=h;f.stop=i;f.updateTab=j;f.updateWindow=k;f.createWindow=l;function a(){return b("CollabRTCChromeScreenSharingExtension").focusTabAndWindow()}function c(a){return b("CollabRTCChromeScreenSharingExtension").getLastFocusedWindow(a)}function d(){return b("CollabRTCChromeScreenSharingExtension").getTabForSender()}function e(){return b("CollabRTCChromeScreenSharingExtension").getTabAndWindowForSender()}function g(a,c){return b("CollabRTCChromeScreenSharingExtension").getWindow(a,c)}function h(a,c){return b("CollabRTCChromeScreenSharingExtension").install(c).then(function(){return b("CollabRTCChromeScreenSharingExtension").getSourceID(a)})}function i(){return b("CollabRTCChromeScreenSharingExtension").stop()}function j(a,c){return b("CollabRTCChromeScreenSharingExtension").updateTab(a,c)}function k(a,c){return b("CollabRTCChromeScreenSharingExtension").updateWindow(a,c)}function l(a){return b("CollabRTCChromeScreenSharingExtension").createWindow(a)}}),null);
__d("ZenonVideoConstraintUtils",["RTCZenonExperimentPhonesNeedAlignment","gkx"],(function(a,b,c,d,e,f){"use strict";f.alignTo=j;f.createConstraints=a;f.getP2PVideoConstraints=c;f.getMWVideoConstraints=d;f.getMWVideoConstraintsRooms=e;f.getMWebVideoConstraints=k;var g=a(1280,720,15);f.CONSTRAINT_720P=g;var h=a(640,360,15);f.CONSTRAINT_360P=h;function i(){var a=b("RTCZenonExperimentPhonesNeedAlignment").phoneNeedsAlignment;return a?64:0}function j(a,b){if(b>0&&a>0){var c=Math.max(1,a/b);return b*Math.round(c)}return a}function a(a,b,c){if(a==null||b==null||c==null)return null;var d=i();a=j(a,d);b=j(b,d);d=a/b;return{aspectRatio:{ideal:d},frameRate:{ideal:c},height:{ideal:b},width:{ideal:a}}}function c(){return h}function d(){return b("gkx")("1808893")?g:null}function e(){return b("gkx")("1808893")?g:h}function k(){return h}}),null);
__d("RTCUserMediaConstraints",["FBRTCConstants","FBRTCSupport","RTCConfig","ZenonVideoConstraintUtils"],(function(a,b,c,d,e,f){"use strict";f.audio=a;f.video=c;f.chromeMediaSource=d;f.chromify=k;var g={width:(e=b("FBRTCConstants")).RTCConstraints.FHD_WIDTH,height:e.RTCConstraints.FHD_HEIGHT,frameRate:e.RTCConstraints.FRAME_RATE},h={width:e.RTCConstraints.HD_WIDTH,height:e.RTCConstraints.HD_HEIGHT,frameRate:e.RTCConstraints.FRAME_RATE},i={width:e.RTCConstraints.SD_WIDTH,height:e.RTCConstraints.SD_HEIGHT,frameRate:e.RTCConstraints.FRAME_RATE},j={width:e.RTCConstraints.LQ_WIDTH,height:e.RTCConstraints.LQ_HEIGHT,frameRate:e.RTCConstraints.LQ_FRAME_RATE};function a(a){return a?{deviceId:{exact:a}}:!0}function c(a,c,d){d===void 0&&(d=b("RTCConfig").CollaborationCallQuality.videoToRoom);c=c?{deviceId:{exact:c}}:null;if(a===b("FBRTCConstants").VideoQuality.CUSTOM_VIDEO)return babelHelpers["extends"]({},d,c);if(b("FBRTCSupport").isMobileDevice())return l(b("ZenonVideoConstraintUtils").getP2PVideoConstraints());d=n(a);a=m(a)?j:p(d);return babelHelpers["extends"]({width:o(d,"width",a),height:o(d,"height",a),frameRate:o(d,"frameRate",{frameRate:10})},c)}function d(a,b){a=a.video;a=k(a);if(typeof a!=="object")return{audio:!1,video:Boolean(a)};var c=a.mandatory;a=a.optional;a=a===void 0?[]:a;return{audio:!1,video:{mandatory:babelHelpers["extends"]({},c,{chromeMediaSource:"desktop",chromeMediaSourceId:b}),optional:[{googTemporalLayeredScreencast:!0}].concat(a)}}}function k(a,b){if(!a||typeof a!=="object")return Boolean(a);if(!s(a))return a;b=b?b.optionalConstraintsOnly:!1;var c=a.mandatory;c=c===void 0?{}:c;var d=a.optional;d=d===void 0?[]:d;var e=Object.entries(a);for(var f=0;f<e.length;f++){var g=e[f],h=g[0];g=g[1];if(h==="require"||h==="advanced"||h==="mediaSource")continue;g=g&&typeof g==="object"?g:{ideal:g};Number.isFinite(g.exact)&&(g.min=g.exact,g.max=g.exact);var i=g.exact,j=g.ideal;if(j!==void 0)if(Number.isFinite(j)){var k;d.push((k={},k[r(h,"min")]=j,k),(k={},k[r(h,"max")]=j,k))}else{d.push((k={},k[r(h)]=j,k))}if(!b)if(i!==void 0&&!Number.isFinite(i))c[r(h)]=i;else{j=["min","max"];for(var k=0;k<j.length;k++){i=j[k];Number.isFinite(g[i])&&(c[r(h,i)]=g[i])}}}a.advanced&&d.push.apply(d,a.advanced);i={};Object.keys(c).length>0?i.mandatory=c:b&&(i.mandatory={});d.length>0&&(i.optional=d);return i}function l(a){if(a===null)return{};var b={};b.width=a==null?void 0:a.width;b.height=a==null?void 0:a.height;b.aspectRatio=a==null?void 0:a.aspectRatio;b.frameRate=a==null?void 0:a.frameRate;b.facingMode={ideal:"user"};return b}function m(a){return a===b("FBRTCConstants").VideoQuality.HD_IDEAL_LQ_REQUIRED_VIDEO||a===b("FBRTCConstants").VideoQuality.FHD_IDEAL_LQ_REQUIRED_VIDEO}function n(a){switch(a){case b("FBRTCConstants").VideoQuality.FHD_VIDEO:case b("FBRTCConstants").VideoQuality.FHD_IDEAL_LQ_REQUIRED_VIDEO:return g;case b("FBRTCConstants").VideoQuality.HD_VIDEO:case b("FBRTCConstants").VideoQuality.HD_IDEAL_LQ_REQUIRED_VIDEO:return h;case b("FBRTCConstants").VideoQuality.LQ_VIDEO:return j;case b("FBRTCConstants").VideoQuality.SD_VIDEO:return i;default:return h}}function o(a,b,c){c===void 0&&(c=p(a));var d=a[b];return{min:Math.min(c[b],d),max:Math.max(q(a)[b],d),ideal:d}}function p(a){switch(a){case g:return h;case h:return i;case i:case j:default:return j}}function q(a){switch(a){case j:return i;case i:return h;case h:case g:default:return g}}function r(b,a){return a?""+a+b.charAt(0).toUpperCase()+b.slice(1):b==="deviceId"?"sourceId":b}function s(a){return Object.keys(a).some(function(a){return a!=="mandatory"&&a!=="optional"})}}),null);
__d("RTCScreenSharing",["CollabRTCChromeScreenSharing","Promise","RTCUserMediaConstraints","RTCUtils","UserAgent","WorkplaceChatHelper"],(function(a,b,c,d,e,f){"use strict";f.getUserMedia=a;f.stop=i;var g="SCREEN_SHARING_NOT_SUPPORTED";f.SCREEN_SHARING_NOT_SUPPORTED=g;var h="UNEXPECTED_ERROR";function a(a,c,d){if(b("UserAgent").isBrowser("Chrome")){var e;b("WorkplaceChatHelper").isDesktopChatApp()?e=b("WorkplaceChatHelper").getScreenSharingSourceID():e=b("CollabRTCChromeScreenSharing").getSourceID(d,c);return e.then(function(c){return b("RTCUtils").getUserMedia(b("RTCUserMediaConstraints").chromeMediaSource(a,c))}).then(function(a){for(var b=a.getTracks(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.addEventListener("ended",function(b){return window.setTimeout(function(){a.active||i()})})}return a})}else if(b("RTCUtils").isVCScreenSharingSupported()&&navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia==="function")return b("Promise").resolve(navigator.mediaDevices.getUserMedia(a)["catch"](function(a){if(a.name==="NotAllowedError")throw new Error(g)}));return b("Promise").reject(new Error(g))}function i(){return b("UserAgent").isBrowser("Chrome")?b("WorkplaceChatHelper").isDesktopChatApp()?b("WorkplaceChatHelper").stopScreenSharing():b("CollabRTCChromeScreenSharing").stop():b("Promise").reject(new Error(h))}}),null);
__d("assignMediaStream",["FBLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=window.URL||window.webkitURL,h="srcObject"in window.HTMLMediaElement.prototype,i="mozSrcObject"in window.HTMLMediaElement.prototype;function a(a,c){if(h)try{k(a),a.srcObject=c}catch(a){b("FBLogger")("rt_web").catching(a).warn("Failed to assign media stream. Stream object is: "+String(c));throw a}else i?a.mozSrcObject=c:j(a,c)}function j(a,b){k(a),a.src=b!=null?g.createObjectURL(b):""}function k(a){try{typeof a.src==="string"&&g.revokeObjectURL(a.src)}catch(a){b("FBLogger")("rt_web").catching(a).warn("error revoking object URL")}}}),null);
__d("MediaStream",[],(function(a,b,c,d,e,f){"use strict";a=window.MediaStream||window.webkitMediaStream;e.exports=a}),null);
__d("RTCAudioTrackNoiseDetector",["invariant","MediaStream","Promise"],(function(a,b,c,d,e,f,g){"use strict";f.detect=a;var h="audio track with absolute silence";f.ABSOLUTE_SILENCE_ERROR=h;var i="audio track data timeout";f.DATA_TIMEOUT_ERROR=i;var j='wrong track type, expected "audio"';f.WRONG_TRACK_TYPE_ERROR=j;var k=100;function a(a,c){if("kind"in a&&a.kind!=="audio")return b("Promise").reject(new Error(j));var d=new(b("MediaStream"))();d.addTrack(a);var e=new AudioContext(),f=e.createMediaStreamSource(d),l=e.createScriptProcessor(0,1,1),m=k,n=function(){l!=null||g(0,2865);l.onaudioprocess=null;l.disconnect();l=null;f!=null||g(0,2866);f.disconnect();f=null;d!=null||g(0,2867);d.removeTrack(a);d=null;e!=null||g(0,2868);return b("Promise").resolve(e.close())["catch"](function(){return b("Promise").resolve()}).then(function(){e=null})};return b("Promise").race([new(b("Promise"))(function(a,b){l!=null||g(0,2865),l.onaudioprocess=function(c){c=c.inputBuffer;for(var c=c.getChannelData(0),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f!==0){a();return}}m>0?m--:b(new Error(h))},f!=null||g(0,2866),f.connect(l),e!=null||g(0,2868),l.connect(e.destination)}),new(b("Promise"))(function(a){return window.setTimeout(a,c)}).then(function(){throw new Error(i)})]).then(function(){return n()})["catch"](function(a){return n().then(function(){throw a})})}}),null);
__d("FBRTCDismissReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14})}),null);
__d("FBRTCHangupReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_CONTAIN_E2EE:8})}),null);
__d("RTWebStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Busy");f.busy=a;b=g._("Call Again");f.callAgain=b;c=g._("Call Ended");f.callEnded=c;d=g._("Call Failed");f.callFailed=d;e=g._("Call Interrupted");f.callInterrupted=e;a=g._("Can't Connect Call");f.cannotConnect=a;b=g._("You left the group video chat");f.chatLinksLeftVideoChat=b;c=g._("This room has the maximum number of participants. When someone leaves, you can try to join again.");f.chatLinkMaxParticipantsExceeded=c;d=g._("Client Encryption Error");f.clientEncryptionError=d;e=g._("Close");f.close=e;a=g._("Connected");f.connected=a;b=g._("Connecting...");f.connecting=b;c=g._("Connection Dropped");f.connectionDropped=c;d=g._("Connection Lost");f.connectionLost=d;e=g._("Contacting...");f.contacting=e;a=g._("Copied");f.copiedVideoChatLink=a;b=g._("Copy Link");f.copyVideoChatLink=b;c=g._("Disconnected");f.disconnected=c;d=g._("Dismiss");f.dismiss=d;e=g._("Hanging up...");f.hangingUp=e;a=g._("Call is Inactive");f.inactive=a;b=g._("In Another Call");f.inAnotherCall=b;c=g._("Incoming video chat");f.incomingVideoChat=c;d=g._("Too many clients connected to the room");f.invalidStreamConfiguration=d;e=g._("No Answer");f.noAnswer=e;a=g._("Not Now");f.notNow=a;b=g._("Participant Limit Reached");f.participantLimitReached=b;c=g._("Please wait...");f.pleaseWait=c;d=g._("Profile Picture");f.profilePictureAlt=d;e=g._("Reconnecting...");f.reconnecting=e;a=g._("Redial");f.redial=a;b=g._("Ringing...");f.ringing=b;c=g._("Switch to Wi-Fi to complete your call");f.switchToWiFi=c;d=g._("Unreachable");f.unreachable=d;e=function(a){return g._("{name}'s camera is off",[g._param("name",a)])};f.userVideoOff=e;a=g._("Your camera is off");f.viewerVideoOff=a;b=g._("Waiting for others to join...");f.waitingForOthers=b}),null);
__d("RTCEndCallReason",["FBRTCConstants","FBRTCDismissReason","FBRTCHangupReason","FBRTCRtcResponseStatusCode","RTWebStrings"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$3="local",typeof a==="string"||a instanceof String?this.$1=b("FBRTCConstants").endCallReasonFromString(a):this.$1=a}var c=a.prototype;c.setSubreason=function(a){this.$2=a;return this};c.getSubreason=function(){return this.$2};c.setRemoteEnded=function(a){this.$3=a?"remote":"local";return this};c.getRemoteEnded=function(){return this.$3==="remote"};c.toStrName=function(a){a===void 0&&(a=!0);return a?this.$4()+"_"+this.$3:this.$4()};c.$4=function(){return b("FBRTCConstants").callEndReasonString(this.$1)};c.getReasonID=function(){return this.$1};c.toString=function(a){var b;a===void 0&&(a=!1);b=((b=this.$5(a))!=null?b:"").toString();return a?b+" "+this.$6():b};c.$5=function(a){switch(this.$1){case b("FBRTCConstants").CallEndReason.NO_ANSWER_TIMEOUT:case b("FBRTCConstants").CallEndReason.IGNORE_CALL:return b("RTWebStrings").noAnswer;case b("FBRTCConstants").CallEndReason.OTHER_NOT_CAPABLE:if(this.$2===b("FBRTCConstants").CollabCallEndSubreason.MCU_INVALID_STREAM_CONFIGURATION)return b("RTWebStrings").invalidStreamConfiguration;case b("FBRTCConstants").CallEndReason.INCOMING_TIMEOUT:case b("FBRTCConstants").CallEndReason.NO_PERMISSION:case b("FBRTCConstants").CallEndReason.OTHER_CARRIER_BLOCKED:return b("RTWebStrings").unreachable;case b("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED:case b("FBRTCConstants").CallEndReason.WEBRTC_ERROR:case b("FBRTCConstants").CallEndReason.NO_UI_ERROR:case b("FBRTCConstants").CallEndReason.CALLER_NOT_VISIBLE:case b("FBRTCConstants").CallEndReason.CLIENT_ERROR:return b("RTWebStrings").callFailed;case b("FBRTCConstants").CallEndReason.UNSUPPORTED_VERSION:return b("RTWebStrings").cannotConnect;case b("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL:return b("RTWebStrings").inAnotherCall;case b("FBRTCConstants").CallEndReason.CARRIER_BLOCKED:return b("RTWebStrings").switchToWiFi;case b("FBRTCConstants").CallEndReason.CLIENT_INTERRUPTED:return b("RTWebStrings").callInterrupted;case b("FBRTCConstants").CallEndReason.HANGUP_CALL:case b("FBRTCConstants").CallEndReason.ACCEPT_AFTER_HANGUP:return a?"":b("RTWebStrings").callEnded;case b("FBRTCConstants").CallEndReason.CONNECTION_DROPPED:return b("RTWebStrings").connectionLost;case b("FBRTCConstants").CallEndReason.OTHER_INSTANCE_HANDLED:return null;case b("FBRTCConstants").CallEndReason.CLIENT_ENCRYPTION_ERROR:return b("RTWebStrings").clientEncryptionError;case b("FBRTCConstants").CallEndReason.INACTIVE_TIMEOUT:return b("RTWebStrings").inactive;default:return null}};c.$6=function(){var a;if(this.$1!==b("FBRTCConstants").CallEndReason.OTHER_NOT_CAPABLE&&this.$1!==b("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED&&this.$1!==b("FBRTCConstants").CallEndReason.HANGUP_CALL&&this.$1!==b("FBRTCConstants").CallEndReason.ACCEPT_AFTER_HANGUP)return"";switch(this.$2){case b("FBRTCConstants").CollabCallEndSubreason.REMOTE_PEER_HANGUP:return"Call ended";case b("FBRTCConstants").CollabCallEndSubreason.REMOTE_PEER_REJECT:return"Call declined";case b("FBRTCConstants").CollabCallEndSubreason.CLOSED_BY_MCU:return"Call expired";case b("FBRTCConstants").CollabCallEndSubreason.CLOSED_AS_STALE:return"Server failed, call is stale";case b("FBRTCConstants").CollabCallEndSubreason.CALL_INITIALIZATION_FAILED:return"Call initialization to room failed";case b("FBRTCConstants").CollabCallEndSubreason.SIP_CONNECTION_INITIALIZATION_FAILED:return"No Answer";case b("FBRTCConstants").CollabCallEndSubreason.LOST_MCU_CONNECTION:return"MCU Media connection failed";case b("FBRTCConstants").CollabCallEndSubreason.LOST_MCU_THRIFT_CONNECTION:return"MCU infrastructure dropped connection";case b("FBRTCConstants").CollabCallEndSubreason.LOST_SIP_ADAPTER_CONNECTION:return"SIP infrastructure dropped connection";case b("FBRTCConstants").CollabCallEndSubreason.MCU_NO_AUDIO_STREAM:return"Invalid audio stream";case b("FBRTCConstants").CollabCallEndSubreason.MCU_INVALID_STREAM_CONFIGURATION:return"Invalid stream configuration";case b("FBRTCConstants").CollabCallEndSubreason.INVALID_MEETING_ID:return"Invalid meeting ID";case b("FBRTCConstants").CollabCallEndSubreason.UNKNOWN:default:a=(a=this.$2)!=null?a:"Unknown";return this.$2!=null&&this.$2!==""?"Unexpected call failure: "+a:"Call ended"}};a.fromHangupReason=function(c){switch(c){case b("FBRTCHangupReason").IGNORE_CALL:return new a(b("FBRTCConstants").CallEndReason.IGNORE_CALL);case b("FBRTCHangupReason").NO_ANSWER_TIMEOUT:return new a(b("FBRTCConstants").CallEndReason.NO_ANSWER_TIMEOUT);case b("FBRTCHangupReason").HANGUP_CALL:return new a(b("FBRTCConstants").CallEndReason.HANGUP_CALL);case b("FBRTCHangupReason").CLIENT_ERROR:return new a(b("FBRTCConstants").CallEndReason.CLIENT_ERROR);case b("FBRTCHangupReason").IN_ANOTHER_CALL:return new a(b("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL);case b("FBRTCHangupReason").CLIENT_INTERRUPTED:return new a(b("FBRTCConstants").CallEndReason.CLIENT_INTERRUPTED);default:return new a(b("FBRTCConstants").CallEndReason.HANGUP_CALL)}};a.subreasonFromDismissRequest=function(a){if(!a)return null;switch(a.reason){case b("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return"REMOVED_BY_PARTICIPANT";default:return null}};a.fromDismissRequest=function(c){if(!c)return new a(b("FBRTCConstants").CallEndReason.HANGUP_CALL);switch(c.reason){case b("FBRTCDismissReason").ANSWERED_ON_ANOTHER_DEVICE:case b("FBRTCDismissReason").REJECTED_ON_ANOTHER_DEVICE:return new a(b("FBRTCConstants").CallEndReason.OTHER_INSTANCE_HANDLED);case b("FBRTCDismissReason").CALL_ENDED:return new a(b("FBRTCConstants").CallEndReason.HANGUP_CALL);case b("FBRTCDismissReason").IN_ANOTHER_CALL:return new a(b("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL);case b("FBRTCDismissReason").CONNECTION_DROPPED:return new a(b("FBRTCConstants").CallEndReason.CONNECTION_DROPPED);case b("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return new a(b("FBRTCConstants").CallEndReason.HANGUP_CALL);case b("FBRTCDismissReason").REJECTED_BY_CALLEE:return new a(b("FBRTCConstants").CallEndReason.IGNORE_CALL);case b("FBRTCDismissReason").INTERNAL_ERROR:return new a(b("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED);default:return new a(b("FBRTCConstants").CallEndReason.HANGUP_CALL)}};a.fromResponseStatusCode=function(c){switch(c){case b("FBRTCRtcResponseStatusCode").METHOD_NOT_ALLOWED:case b("FBRTCRtcResponseStatusCode").UNAUTHORIZED:return new a(b("FBRTCConstants").CallEndReason.NO_PERMISSION);case b("FBRTCRtcResponseStatusCode").SERVICE_UNAVAILABLE:return new a(b("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED);case b("FBRTCRtcResponseStatusCode").SERVER_INTERNAL_ERROR:case b("FBRTCRtcResponseStatusCode").BAD_REQUEST:case b("FBRTCRtcResponseStatusCode").CONDITIONAL_REQUEST_FAILED:case b("FBRTCRtcResponseStatusCode").NOT_FOUND:return new a(b("FBRTCConstants").CallEndReason.CLIENT_ERROR);default:return new a(b("FBRTCConstants").CallEndReason.HANGUP_CALL)}};return a}();e.exports=a}),null);
__d("ZenonRTCOnDeviceChangePoller",["Promise","RTCMediaDevices","ZenonDebugLogger"],(function(a,b,c,d,e,f){"use strict";a=function(){a.isNeeded=function(){var a=navigator;a=a.mediaDevices;return!b("RTCMediaDevices").isSupported("enumerateDevices")||a&&"ondevicechange"in a?!1:!0};function a(a){var c=this;this.$1=[];this.$2="";this.$4=null;this.$7=function(){b("RTCMediaDevices").enumerateDevices().then(function(a){a=a.map(function(a){return a.deviceId+":"+a.label+":"+a.groupId}).sort().join("~");if(a===c.$2)return;c.$2=a;for(var a=c.$1,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;try{e()}catch(a){}}})["catch"](function(a){return b("Promise").resolve()}).then(function(){c.$4=window.setTimeout(c.$7,c.$3)})["catch"](function(a){})};this.$3=a}var c=a.prototype;c.add=function(a){this.$1.push(a),this.$5()};c.remove=function(a){this.$1=this.$1.filter(function(b){return b!==a}),this.$6()};c.$5=function(){if(this.$4!==null)return;this.$4=window.setTimeout(this.$7,0)};c.$6=function(){if(this.$1.length>0)return;this.$4!==null&&(window.clearTimeout(this.$4),this.$4=null)};return a}();e.exports=a}),null);
__d("RTCMediaDevices",["invariant","Promise","ZenonRTCOnDeviceChangePoller"],(function(a,b,c,d,e,f,g){"use strict";f.addEventListener=a;f.removeEventListener=c;f.isSupported=d;f.enumerateDevices=e;f.filterDevicesOfKind=l;var h=(a=navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices==="function")!=null?a:!1,i=window.MediaStreamTrack&&window.MediaStreamTrack.getSources==="function",j=1e3,k;function a(a,c){if(a==="devicechange"&&b("ZenonRTCOnDeviceChangePoller").isNeeded()){k||(k=new(b("ZenonRTCOnDeviceChangePoller"))(j));k.add(c);return}var d=navigator;d=d.mediaDevices;d&&"addEventListener"in d&&d.addEventListener(a,c)}function c(a,c){if(a==="devicechange"&&b("ZenonRTCOnDeviceChangePoller").isNeeded()){k&&k.remove(c);return}var d=navigator;d=d.mediaDevices;d&&"removeEventListener"in d&&d.removeEventListener(a,c)}function d(a){switch(a){case"enumerateDevices":return h||i;default:return Boolean(navigator.mediaDevices)}}function e(){if(h){navigator.mediaDevices||g(0,4492);return b("Promise").resolve(navigator.mediaDevices.enumerateDevices())}else if(i)return new(b("Promise"))(function(a){return window.MediaStreamTrack.getSources(a)}).then(m);return b("Promise").reject(new Error("enumerateDevices() not supported"))}function l(a,b){return a.filter(function(a){return a.kind===b})}function m(a){return a.map(function(a){var b=a.id,c=a.kind;a=a.label;return{deviceId:b,groupId:"",kind:c==="video"?"videoinput":"audioinput",label:a}})}}),null);
__d("RTCVideoTrackActivityDetector",["invariant","MediaStream","Promise","assignMediaStream"],(function(a,b,c,d,e,f,g){"use strict";f.detect=a;var h="video track playback timeout";f.PLAYBACK_TIMEOUT_ERROR=h;var i="unexpected video track ready state";f.WRONG_READY_STATE_ERROR=i;var j='wrong track type, expected "video"';f.WRONG_TRACK_TYPE_ERROR=j;function a(a,c){if("kind"in a&&a.kind!=="video")return b("Promise").reject(new Error(j));var d=document.createElement("video");d.muted=!0;var e=new(b("MediaStream"))();e.addTrack(a);var f,k=null,l=function(){window.clearInterval(k),d&&(d.pause(),b("assignMediaStream")(d,null),d.removeEventListener("timeupdate",f),d=null),e&&(e.removeTrack(a),e=null)};return b("Promise").race([new(b("Promise"))(function(c,h){d!=null||g(0,5995),b("assignMediaStream")(d,e),f=function(b){d!=null||g(0,5995),d.currentTime>0&&(a.readyState==="live"?(c(),l()):h(new Error(i)))},b("Promise").resolve(d.pause()).then(function(){d!=null||g(0,5995);return d.play()}).then(function(){f(),d!=null||g(0,5995),d.addEventListener("timeupdate",f),k=window.setInterval(f,50)})["catch"](function(a){return h(a)})}),new(b("Promise"))(function(a){return window.setTimeout(a,c)}).then(function(){throw new Error(h)})])["catch"](function(a){l();throw a})}}),null);
__d("RTCMediaStreamValidator",["Promise","RTCAudioTrackNoiseDetector","RTCVideoTrackActivityDetector"],(function(a,b,c,d,e,f){"use strict";f.validate=a;var g="no audio tracks";f.NO_AUDIO_TRACKS_ERROR=g;var h="no video tracks";f.NO_VIDEO_TRACKS_ERROR=h;var i="too many audio tracks";f.TOO_MANY_AUDIO_TRACKS_ERROR=i;var j="too many video tracks";f.TOO_MANY_VIDEO_TRACKS_ERROR=j;var k="unexpected audio track(s)";f.UNEXPECTED_AUDIO_TRACKS_ERROR=k;var l="unexpected video track(s)";f.UNEXPECTED_VIDEO_TRACKS_ERROR=l;function a(a,c,d,e){d===void 0&&(d={});e===void 0&&(e={});d=d;var f=d.audio;f=f===void 0?!0:f;d=d.video;d=d===void 0?!0:d;e=e;var g=e.audio;g=g===void 0?1e3:g;e=e.video;e=e===void 0?1e3:e;return b("Promise").all([m(a,c,f,g),n(a,c,d,e)]).then(function(){return a})}function m(a,c,d,e){var f=a.getAudioTracks();if(!c.audio)return f.length>0?b("Promise").reject(new Error(k)):b("Promise").resolve(a);if(f.length<1)return b("Promise").reject(new Error(g));else if(f.length>1)return b("Promise").reject(new Error(i));return d?b("RTCAudioTrackNoiseDetector").detect(f[0],e).then(function(){return a}):b("Promise").resolve(a)}function n(a,c,d,e){var f=a.getVideoTracks();if(!c.video)return f.length>0?b("Promise").reject(new Error(l)):b("Promise").resolve(a);if(f.length<1)return b("Promise").reject(new Error(h));else if(f.length>1)return b("Promise").reject(new Error(j));return d?b("RTCVideoTrackActivityDetector").detect(f[0],e).then(function(){return a}):b("Promise").resolve(a)}}),null);
__d("FBRTCParticipantCallState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17})}),null);
__d("RTCUser",["FBRTCParticipantCallState","RTCUserRecord","ScotchConstants","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.clone=function(){return new c(this.toObject())};d.setParticipantState=function(a){return(!this.participantState||this.participantState.state!==b("FBRTCParticipantCallState").CONNECTED)&&a.state===b("FBRTCParticipantCallState").CONNECTED?this.set("participantState",a).set("lastConnectedAt",Date.now()):!this.participantState||this.participantState.state!==a.state?this.set("participantState",a):this};d.getParticipantState=function(){return this.participantState&&this.participantState.state};d.hasAudio=function(){return this.getAllStreamAudioTracks().some(function(a){return a.length>0})};d.hasVideo=function(){return this.streams.some(function(a){return a.getVideoTracks().length>0})};d.hasLiveVideoTracks=function(){return this.streams.some(function(a){return a.getVideoTracks().some(function(a){return a.readyState==="live"})})};d.isAudioDisabled=function(){var a=this;return!this.hasAudio()?!0:this.getAllStreamAudioTracks().every(function(b){return a.areAllTracksDisabled(b)})};d.isVideoDisabled=function(){var a=this;return!this.hasVideo()?!0:this.streams.every(function(b){return a.areAllTracksDisabled(b.getVideoTracks())})};d.areAllTracksDisabled=function(a){return!a.some(function(a){return a.enabled})};d.hasFunctioningVideoTrack=function(){return!this.hasVideo()?!1:this.streams.every(function(a){return a.getVideoTracks().some(function(a){return a.enabled&&!a.muted})})};d.toggleAudioTrackMutedByUser=function(a,b){a=this.audioStreamMuteStates.set(a,b);return this.set("audioStreamMuteStates",a)};d.toggleDisableAudio=function(a){var b=this;this.getAllStreamAudioTracks().forEach(function(c){return b.$RTCUser1(c,a)});return this.clone()};d.toggleDisableVideo=function(a){var b=this;this.streams.forEach(function(c){b.$RTCUser1(c.getVideoTracks(),a)});return this.clone()};d.stopVideo=function(){var a=this;this.streams.forEach(function(b){b.getVideoTracks().forEach(function(c){a.$RTCUser1(b.getVideoTracks(),!0),c.readyState!=="ended"&&(c.onended&&c.onended(),c.stop())})});return this.clone()};d.getAllStreamAudioTracks=function(){return this.streams.concat(this.screenStreams).map(function(a){return a.getAudioTracks()})};d.hasStream=function(){return!this.streams.isEmpty()};d.addStream=function(a){return this.set("streams",this.streams.add(b("nullthrows")(a)))};d.removeStream=function(a){var b=this.audioStreamMuteStates["delete"](a.id);this.set("audioStreamMuteStates",b);return this.set("streams",this.streams["delete"](a))};d.getStream=function(){return this.hasStream()?this.streams.first():null};d.getActiveStream=function(){return this.hasStream()?this.streams.find(function(a){return"active"in a&&a.active}):null};d.replaceStream=function(a,b){return!this.streams.contains(a)?this:this.set("streams",this.streams["delete"](a).add(b))};d.removeAllStreams=function(){return this.set("streams",b("immutable").Set())};d.getScreenStream=function(){return this.screenStreams&&this.hasScreenStream()?this.screenStreams.first():null};d.hasScreenStream=function(){return!this.screenStreams.isEmpty()};d.addScreenStream=function(a){return this.set("screenStreams",this.screenStreams.add(a))};d.removeScreenStream=function(a){return this.set("screenStreams",this.screenStreams["delete"](a))};d.removeAllScreenStreams=function(){return this.set("screenStreams",b("immutable").Set())};d.replaceScreenStream=function(a,b){if(!this.screenStreams.contains(a))return this;return a===b?this:this.set("screenStreams",this.screenStreams.add(b)["delete"](a))};d.setRoomLocation=function(a){return this.set("roomLocation",a)};d.getRoomLocation=function(){return this.roomLocation};d.$RTCUser1=function(a,b){var c=b!=null?!b:this.areAllTracksDisabled(a);a.forEach(function(a){return a.enabled=c})};d.getMediaTypeForTracks=function(){var a=new Map(),c=this.getScreenStream();c&&c.getVideoTracks().forEach(function(c){return a.set(c.id,b("ScotchConstants").MediaContentTypes.SCREEN)});return a};d.subscribeVideo=function(){return this.set("isVideoSubscribed",!0)};d.unsubscribeVideo=function(){return this.set("isVideoSubscribed",!1)};d.setPausedDownlink=function(a){return this.set("pausedDownlink",a)};return c}(b("RTCUserRecord"));e.exports=a}),null);
__d("RTWebClientFeatureGating",["CurrentUser","FBRTCConfig","FBRTCExperiment","FBRTCSupport","gkx"],(function(a,b,c,d,e,f){"use strict";f.isVCCallOrWorkUser=a;f.shouldShowEndCallQPs=c;f.shouldShowCreateVCLButton=d;f.draggableSelfView=e;f.endCallSurveyDropdownOptions=g;f.canUseMWVideoFilters=h;f.isChatEnabled=i;f.isGroupChatEnabled=j;f.useNewIncomingCallDialog=k;f.answerCallWithThreeButtons=l;f.callUnification=m;f.canUseMultiwaySandbox=n;f.stopVideoWhenMute=o;f.restartVideoWithTrackAPI=p;f.shouldAlwaysShowRedial=q;f.disableOpusStereo=r;f.shouldApplySdpMidTranslation=s;f.preserveFirefoxInactiveDataChannelBlock=t;f.showMojavePermissionsWarning=u;f.alwaysOpenChatTab=v;f.shouldShowNetworkQualityIndicator=w;f.shouldMonitorNetworkQuality=x;f.preferIsacForGroupCalls=y;function a(){return b("FBRTCConfig").isVCEndpointCall()||b("CurrentUser").isWorkUser()}function c(){return b("gkx")("867914")}function d(){return!1}function e(){return b("FBRTCExperiment").gen("rtc_www_larger_self_view").getBool("draggable_self_view",!1)}function g(){return!this.isVCCallOrWorkUser()}function h(){return!b("CurrentUser").isWorkUser()&&b("FBRTCSupport").isVideoFilterEffectSupported()}function i(){if(b("FBRTCConfig").isVCEndpointCall())return!1;return b("CurrentUser").isWorkUser()&&!b("gkx")("1020560")?!1:!0}function j(){return!1}function k(){return b("FBRTCExperiment").getIncomingCallExperiments().getBool("use_new_incoming_call_dialog",!1)}function l(){return b("FBRTCExperiment").getIncomingCallExperiments().getBool("use_three_buttons",!1)}function m(){return b("FBRTCExperiment").gen("rtc_www_call_unification").getBool("in_call_background_updated",!1)}function n(){return b("gkx")("678350")}function o(){if(b("FBRTCConfig").isVCEndpointCall())return!1;var a=b("FBRTCExperiment").gen("turnoff_camera_when_facemute");return a.getBool("camera_off",!1)}function p(){var a=b("FBRTCExperiment").gen("turnoff_camera_when_facemute");return a.getBool("track_api",!1)}function q(){return!this.isVCCallOrWorkUser()}function r(){return b("gkx")("678351")}function s(){return b("gkx")("700608")}function t(){return b("gkx")("724606")}function u(){return navigator.userAgent.indexOf("Intel Mac OS X 10_14")!==-1}function v(){return b("FBRTCExperiment").gen("rt_web_fb_profile_rtc_buttons").getBool("open_chat_tab",!1)}function w(){return this.isVCCallOrWorkUser()?!1:b("FBRTCExperiment").getMediaQualityExperiments().getBool("show_network_indicator",!1)}function x(){return this.isVCCallOrWorkUser()?!1:b("FBRTCExperiment").getMediaQualityExperiments().getBool("monitor_network_quality",!1)}function y(){return!b("FBRTCConfig").isVCEndpointCall()}}),null);
__d("UserMediaRequestError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,c)||this;e.constraint=d;e.nativeErrorName=b;e.message=g(c);e.name=h(b);return e}b.createFromNative=function(a){var c=a.constraint,d=a.message;a=a.name;return new b(a,d,c||"")};var c=b.prototype;c.isRecoverableError=function(){return this.name==="InvalidStateError"?!0:!1};c.getEndCallSubReason=function(){return"MediaFailed: "+this.name+", "+this.constraint};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a;function g(a){switch(a){case"The operation is insecure.":return"The request is not allowed by the user agent or the platform in the current context.";default:return a}}function h(a){switch(a){case"ConstraintNotSatisfiedError":return"OverconstrainedError";case"NO_DEVICES_FOUND":case"DevicesNotFoundError":return"NotFoundError";case"MediaDeviceFailedDueToShutdown":case"MediaDeviceKillSwitchOn":case"TrackStartError":return"NotReadableError";case"PermissionDeniedError":case"PERMISSION_DENIED":case"PermissionDismissedError":return"NotAllowedError";default:return a}}}),null);
__d("generateRTCTransactionID",["randomInt"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return String(b("randomInt")(0,4294967294)+1)}}),null);
__d("RTCUtils",["invariant","CurrentUser","FBLogger","FBRTCConfig","FBRTCLogger","FBRTCUtils","Promise","RTCAudioTrackNoiseDetector","RTCEndCallReason","RTCMediaDevices","RTCMediaStreamValidator","RTCScreenSharing","RTCUser","RTCUserMediaConstraints","RTCVideoTrackActivityDetector","RTWebClientFeatureGating","RTWebUserActionLogger","URI","UserAgent","UserMediaRequestError","generateRTCTransactionID","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("RTCAudioTrackNoiseDetector").DATA_TIMEOUT_ERROR,j=b("RTCVideoTrackActivityDetector").PLAYBACK_TIMEOUT_ERROR,k={isGroupCall:function(a){return a.split(":")[0]==="GROUP"},isMessengerCall:function(a){return a.split(":")[0]==="MESSENGER"},isRoomCall:function(a){return a.split(":")[0]==="ROOM"},isPeerCall:function(a){return a.split(":")[0]==="PEER"},isAlohaCall:function(a){return a.split(":")[0]==="ALOHA"},isWatchPartyCall:function(a){return a.split(":")[0]==="WATCH"},isSupportedMWCall:function(a){return k.isGroupCall(a)||k.isMessengerCall(a)||k.isRoomCall(a)||k.isAlohaCall(a)||k.isWatchPartyCall(a)},getPeerID:function(a){if(k.isGroupCall(a))throw new Error("Not a P2P call: "+a);a=a.split(":");a=a.slice(1);return a[0]===b("CurrentUser").getID()?a[1]:a[0]},getMessengerCallID:function(a){if(!k.isMessengerCall(a))throw new Error("Not a Messenger call: "+a);return Number(a.split(":")[1])},getThreadID:function(a){return!k.isGroupCall(a)?null:Number(a.split(":")[1])},getSandboxingTierFromURIOrEmpty:function(a,b){b=b+"=";a=a.split(b);if(a[1]){b=a.pop().split("&").shift();return b}return""},maybeAppendSandboxOverrides:function(a){a.extensions==null&&(a.extensions={});if(b("RTWebClientFeatureGating").canUseMultiwaySandbox()){var c=window.location.href,d=k.getSandboxingTierFromURIOrEmpty(c,"multiway_www_tier");c=k.getSandboxingTierFromURIOrEmpty(c,"multiway_core_tier");d&&a.extensions!=null&&(a.extensions.multiwayWwwTier=d);c&&a.extensions!=null&&(a.extensions.multiwayCoreTier=c)}},createRequestHeader:function(a,c,d,e,f){a={type:a,clientStack:4,transactionId:b("generateRTCTransactionID")(),retryCount:0,conferenceName:c,clientSessionId:e?e:""};c={};d&&(a.serverInfoData=d);f&&(c.esc_p2p_call_id=f);a.extensions=c;k.maybeAppendSandboxOverrides(a);return a},createClientContextMessage:function(a,b){a={num_participants:a,trigger:b};b={header:{topic_DEPRECATED:"client_context",shouldSendToAllUsers:!1},body:{genericMessage:{topic:"client_context",data:JSON.stringify(a)}}};return b},createResponseHeader:function(a,b,c){b={type:a.type,clientStack:4,transactionId:a.transactionId,retryCount:0,conferenceName:a.conferenceName,responseStatusCode:b,clientSessionId:c?c:""};a.serverInfoData&&(b.serverInfoData=a.serverInfoData);b.extensions={};k.maybeAppendSandboxOverrides(b);return b},maybeRemoveVideoConstraint:function(a){return b("RTCMediaDevices").enumerateDevices().then(function(c){if(c.some(function(a){return a.kind==="videoinput"})){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[maybeRemoveVideoConstraint] At least one device has videoinput.  Keeping constraints "+JSON.stringify(a)});return a}b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[maybeRemoveVideoConstraint] No devices capable of videoinput.",errorDomain:"GetUserMedia",errorType:"Removing video stream by setting video constraint to false."});return babelHelpers["extends"]({},a,{video:!1})})["catch"](function(){return b("Promise").resolve(a)})},getUserMediaWithAudioFallback:function(a,c){return a.video?k.maybeRemoveVideoConstraint(a).then(function(a){return k.getUserMedia(a,c)})["catch"](function(c){if(a.video){if(c.name==="NotFoundError"||c.name==="StreamFailedToStart"){var d="Audio Fallback Error Recovery: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Retrying getUserMedia with no video stream",errorDomain:"GetUserMedia",errorType:d});return k.getUserMedia({video:!1,audio:a.audio})}if(c.name==="OverconstrainedError"){d="Video Constraints Error Recovery: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Retrying getUserMedia with no video constraints",errorDomain:"GetUserMedia",errorType:d});return k.getUserMedia({video:!0,audio:a.audio})}}d="Error: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Throwing other error",errorDomain:"GetUserMedia",errorType:d});throw c}):k.getUserMedia(a,c)},getUserMediaWithFallbackToEmptyVideoConstraints:function(a,c){return k.getUserMedia(a,c)["catch"](function(c){if(a.video&&c.name==="OverconstrainedError"){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithFallbackToEmptyVideoConstraints] Fallback getUserMedia with no video constraints",errorDomain:"GetUserMedia",errorType:"Original Constraints: "+JSON.stringify(a)});return k.getUserMedia(babelHelpers["extends"]({},a,{video:!0}))}throw c})},getUserScreenMedia:function(a,c,d){return b("RTCScreenSharing").getUserMedia(a,c,d)},getUserMedia:function(a,c){var d=navigator,e=d.mediaDevices;if(typeof a.video==="object"&&a.video.mediaSource){b("FBLogger")("rtc_www").mustfix("Please use %s instead of %s for screen","RTCUtils.getUserScreenMedia()","RTCUtils.getUserMedia()");return b("RTCScreenSharing").getUserMedia(a,"unknown")}d=c&&c.optionalConstraintsOnly&&a.video;var f=k._parseConstraints(a,{optionalConstraintsOnly:!!d}),g=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return new(b("Promise"))(function(a,d){e&&typeof e.getUserMedia==="function"?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Newer version"}),a(e.getUserMedia(f).then(function(a){return k._maybeSupportFilteredStreams(a,!!(c&&c.supportFilteredStreams))}))):g?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Backwards compatible version"}),g.call(navigator,f,a,d)):(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Not supported"}),d("getUserMedia not supported"))})["catch"](function(a){var c=a.message,d=a.name,e=a.constraint;b("RTWebUserActionLogger").logError({errorDomain:"GetUserMedia",errorType:(d?d:"unknown GetUserMedia error")+":"+(c?" "+c:"")+(e?" "+e:"")});throw b("UserMediaRequestError").createFromNative(a)})},_parseConstraints:function(a,c){if(b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")){var d=a.audio,e=a.video,f={};d!==void 0&&(f.audio=b("RTCUserMediaConstraints").chromify(d));e!==void 0&&(f.video=b("RTCUserMediaConstraints").chromify(e,c));return f}return a},_maybeSupportFilteredStreams:function(a,b){return a},getUserMediaWithValidation:function(a,c,d,e){c===void 0&&(c={audio:!0,video:!0});d===void 0&&(d=5);e===void 0&&(e={audio:1e3,video:1e3});return new(b("Promise"))(function(f,g){var h=function d(h){k.getUserMedia(a).then(function(d){return b("RTCMediaStreamValidator").validate(d,a,c,e).then(function(a){return f({stream:a})})["catch"](function(a){if(a.message===i||a.message===j)f({stream:d,err:a});else{k.stopMediaStream(d);throw a}})},g)["catch"](function(a){h>0?d(h-1):g(a)})};h(d)})},isFullScreen:function(){return Boolean(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},requestFullScreen:function(a){a===void 0&&(a=document.documentElement),typeof a.requestFullscreen==="function"?a.requestFullscreen():typeof a.msRequestFullscreen==="function"?a.msRequestFullscreen():typeof a.mozRequestFullScreen==="function"?a.mozRequestFullScreen():typeof a.webkitRequestFullscreen==="function"&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exitFullScreen:function(){typeof document.exitFullscreen==="function"?document.exitFullscreen():typeof document.msExitFullscreen==="function"?document.msExitFullscreen():typeof document.mozCancelFullScreen==="function"?document.mozCancelFullScreen():typeof document.webkitExitFullscreen==="function"&&document.webkitExitFullscreen()},toggleFullScreen:function(){k.isFullScreen()?k.exitFullScreen():k.requestFullScreen()},endCallReasonFromHangupReason:function(a){return b("RTCEndCallReason").fromHangupReason(a).getReasonID()},endCallReasonFromDismissRequest:function(a){return b("RTCEndCallReason").fromDismissRequest(a).getReasonID()},endCallSubreasonFromDismissRequest:function(a){return b("RTCEndCallReason").subreasonFromDismissRequest(a)},endCallReasonFromResponseStatusCode:function(a){return b("RTCEndCallReason").fromResponseStatusCode(a).getReasonID()},stopMediaStream:function(a){if(!a.active&&"active"in a)return;a.getTracks().forEach(function(a){a.readyState!=="ended"&&a.stop()})},transferAudioTracks:function(a,b){for(var c=b.getAudioTracks(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.addTrack(f);b.removeTrack(f)}},payloadParticipantsToRTCUsers:function(a){return a.map(function(a){var c=a.big_image_src||a.image_src;a.fbid||g(0,1174);return new(b("RTCUser"))({FBID:a.fbid,profileUrl:new(h||(h=b("URI")))(a.href),profilePictureUrl:c,isMessengerUser:!!a.is_messenger_user,isPartiesUser:!!a.is_parties_user,userName:a.name,userShortName:a.short_name,vanity:a.vanity||""})})},getStreamVideoResolution:function(a){return new(b("Promise"))(function(c,d){var e=document.createElement("video");b("FBRTCUtils").attachMediaStream(e,a);var f=function(){e.removeEventListener("loadedmetadata",g),e.removeEventListener("error",h),b("FBRTCUtils").attachMediaStream(e,null)},g=function(){c({height:e.videoHeight,width:e.videoWidth}),f()},h=function(){d(e.error),f()};e.addEventListener("loadedmetadata",g);e.addEventListener("error",h)})},isScreenSharingSupported:function(){return b("UserAgent").isBrowser("Chrome")||k.isVCScreenSharingSupported()},isVCScreenSharingSupported:function(){return b("FBRTCConfig").isVCEndpointCall()&&b("gkx")("1738376")},filterDevicesByKind:function(a,b){return a?a.filter(function(a){return a.kind===b}):[]},isDevicePresent:function(a,b){return a==null?!1:a.some(function(a){return a.deviceId===b})}};e.exports=k}),null);
__d("RTCUtils.bs",["RTCUtils"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("RTCUtils").getUserMedia(a)}function c(a){b("RTCUtils").stopMediaStream(a)}f.getUserMedia=a;f.stopMediaStream=c}),null);
__d("MWChatAudioRecorderAPI.bs",["Promise","RTCUtils.bs","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c={contents:void 0},d=new Map(),e=new Map(),f={contents:0},g={contents:0},h={contents:0};return{startRecording:function(a){h.contents=Date.now(),d.forEach(function(c,a,d){return b("bs_curry")._1(c,void 0)})},stopRecording:function(a){a=c.contents;a!==void 0&&b("RTCUtils.bs").stopMediaStream(b("bs_caml_option").valFromOption(a));return b("Promise").all(Array.from(e.entries()).map(function(a){return b("bs_curry")._1(a[1],void 0)})).then(function(a){return b("Promise").resolve(void 0)})},onStartRecording:function(a){var b=f.contents;f.contents=f.contents+1|0;d.set(b,a);return function(a){return d["delete"](b)}},onStopRecording:function(a){var b=g.contents;g.contents=g.contents+1|0;e.set(b,a);return function(a){return e["delete"](b)}},getStartTime:function(a){return h.contents},getAudioStreamRef:function(a){return c},resetStartTime:function(a){h.contents=0}}}c=250;f.cELAPSED_TIME_UPDATE_INTV_MS=c;f.createAudioAPI=a}),null);
__d("MWChatAudioRecorderStreamSetup.bs",["MWChatAudioLog.bs","Promise","RTCUtils.bs","bs_caml_js_exceptions","bs_caml_obj","bs_caml_option","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g=function(a){return b("RTCUtils.bs").getUserMedia({video:!1,audio:!0}).then(function(a){return b("Promise").resolve(b("bs_caml_option").some(a))})["catch"](function(a){a=b("bs_caml_js_exceptions").caml_as_js_exn(a);var c=0;a!==void 0&&b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(a).name,"NotAllowedError")?(b("bs_curry")._1(e,function(a){return 2}),b("bs_curry")._1(f,void 0),b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0)):c=1;c===1&&(b("bs_curry")._1(e,function(a){return 3}),b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0));b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0);return b("Promise").resolve(void 0)})},h=function(f){if(c.current){a.contents=b("bs_caml_option").some(f);b("bs_curry")._1(e,function(a){return 1});b("bs_curry")._1(d,void 0);return b("MWChatAudioLog.bs").logBrowserAllowAccess(void 0)}else return b("RTCUtils.bs").stopMediaStream(f)};g=g(void 0).then(function(a){a!==void 0?h(b("bs_caml_option").valFromOption(a)):b("bs_curry")._1(f,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(g,void 0,void 0);g=a.contents;if(g!==void 0)return b("RTCUtils.bs").stopMediaStream(b("bs_caml_option").valFromOption(g))}f.setupStream=a}),null);
__d("MWLSSetBlockStatus.bs",["LS.bs","LSContactOptimisticSetBlockStatusStoredProcedure","LSTransaction.bs","MWThreadKey.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(g){b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSContactOptimisticSetBlockStatusStoredProcedure")(f,a,void 0,!1,b("LS.bs").make(c))},"readWrite"),function(a){return b("bs_curry")._1(c,void 0)},b("bs_curry").__1(d))},[e,f])}f.useHook=a}),null);
__d("MWLSBlock.bs",["LSContactBlockedByViewerStatus.bs","MWLSSetBlockStatus.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MWLSSetBlockStatus.bs").useHook(b("LSContactBlockedByViewerStatus.bs").messageBlocked,a,c)}f.useHook=a}),null);
__d("MWLSUnblock.bs",["LSContactBlockedByViewerStatus.bs","MWLSSetBlockStatus.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MWLSSetBlockStatus.bs").useHook(b("LSContactBlockedByViewerStatus.bs").unblocked,a,c)}f.useHook=a}),null);
__d("MWUIBlock.bs",["cr:571"],(function(a,b,c,d,e,f){"use strict";a=b("cr:571").useHook;f.useHook=a}),null);
__d("MWUIUnblock.bs",["cr:574"],(function(a,b,c,d,e,f){"use strict";a=b("cr:574").useHook;f.useHook=a}),null);
__d("MWChatSettingsAddPeople.bs",["fbt","ix","CometMenuItem.react","ODS","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.dispatch;a=g._("Add members");return j.jsx(b("CometMenuItem.react"),{primaryText:a,onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","add_people");return c("ToggleAddParticipants")},icon:b("fbicon")._(h("497891"),20),testid:"messenger_settings_add_people_menu"})}c=a;f.make=c}),null);
__d("MWChatSettingsBlockMember.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.participants;a=a.threadFbid;var d=g._("Block a member"),e=g._("Block a Member?"),f=b("fbicon")._(h("482898"),20);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockMemberDialogForJSResource.react").__setRef("MWChatSettingsBlockMember.bs"),dialogProps:{title:e,onClose:function(a){},participants:c,threadFbid:a},children:function(a,c){return j.jsx(b("CometMenuItem.react"),{primaryText:d,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","block_member");return b("bs_curry")._1(a,void 0)},icon:f,ref:c,testid:"messenger_settings_block_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsBlockPage.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","LsMessengerThreadDamagingActionsEntryPoint","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","MWChatCollapseTab.bs","MWThread_DEPRECATED.bs","MWUIBlock.bs","MWUIUnblock.bs","MessengerWebEntryPoint","ODS","bs_curry","fbicon","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.isBlocked,d=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MWThread_DEPRECATED.bs").useFBID(void 0);typeof d==="string"||d.NAME!=="Group"||b("unrecoverableViolation")("Can't block a group or local thread","messenger_comet");var e=b("MWChatCollapseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),f=b("gkx")("1277703"),i=c?f?g._("Unblock"):g._("Turn on messages"):f?g._("Block"):g._("Turn off messages"),k=b("bs_curry")._2(b("MWUIBlock.bs").useHook,function(a){return b("bs_curry")._1(e,d)},function(a){}),l=b("bs_curry")._2(b("MWUIUnblock.bs").useHook,function(a){},function(a){});if(f)return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockPageActionDialog").__setRef("MWChatSettingsBlockPage.bs"),dialogProps:{onClose:function(a){},targetFBID:a,threadFBID:a,loggingData:{entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint").THREAD_SETTINGS,source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,sourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MBI}},children:function(a,c){return j.jsx(b("CometMenuItem.react"),{primaryText:i,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","block");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("482898"),20),ref:c,testid:"messenger_settings_block_menu"})}});else return j.jsx(b("CometMenuItem.react"),{primaryText:i,onClick:function(a){if(c)return b("bs_curry")._1(l,void 0);else return b("bs_curry")._1(k,void 0)},icon:b("fbicon")._(h("482898"),20)})}c=a;f.make=c}),null);
__d("MWChatSettingsBlockUser.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","LsMessengerThreadDamagingActionsEntryPoint","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.targetFbid,d=a.isBlocked,e=a.onClick,f=d?g._("Unblock"):g._("Block");return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockActionDialog").__setRef("MWChatSettingsBlockUser.bs"),dialogProps:{targetFBID:c,threadFBID:c,onClose:function(a){},loggingData:{entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint").THREAD_SETTINGS,requestId:void 0,source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,sourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI}},children:function(a,c){return j.jsx(b("CometMenuItem.react"),{primaryText:f,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","block");b("bs_curry")._1(e,void 0);return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("482898"),20),ref:c,testid:"messenger_settings_block_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsChangeConversationName.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSThreadNameDialog.react").__setRef("MWChatSettingsChangeConversationName.bs"),dialogProps:{onClose:function(a){},thread:a},children:function(a,c){return j.jsx(b("CometMenuItem.react"),{primaryText:g._("Conversation name"),onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","thread_name");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("477831"),20),ref:c,testid:"messenger_settings_thread_name_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsCreateGroup.bs",["fbt","ix","CometMenuItem.react","FBID.bs","LSBitOffset.bs","LSContactCapabilityBitOffset.bs","MNetContactItemType.bs","MWChatOpenNewTab.bs","MWChatSearchTypeaheadDataEntry","MWLSActor.bs","MWLSChatThreadHook.bs","MWLSLoadParticipants.bs","MessagingThreadType.bs","MessengerWebEntryPoint","ReQL.bs","ReQLSubscription.bs","ReStore.bs","SkytaleDB","SortedAsyncIterable.bs","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=j.useMemo(function(){var c=Array.from(a.entries()).filter(function(a){return a[0]!==b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))});if(c.length===1)return b("bs_caml_array").get(c,0)},[d,a]),f=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){if(e!==void 0)return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(e[0]),tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[c,e])),g=j.useMemo(function(){if(f===void 0)return;var a=f.K,c=f.G;return{a:f.h,b:b("bs_int64").to_string(f.a),c:b("bs_caml_int64").zero,d:b("MNetContactItemType.bs").contact,e:b("MessagingThreadType.bs").oneToOne,f:f.h,g:f.b,h:void 0,i:a!==void 0?a:"",j:void 0,k:void 0,l:f.n,m:c!==void 0?b("LSBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,c):void 0,n:void 0}},[f]);if(g!==void 0)return b("bs_caml_option").some(new(b("MWChatSearchTypeaheadDataEntry"))({displayName:g.f,id:b("FBID.bs").ofStringExn(g.b),isContact:!0,imageUrl:g.g,resultType:"user",secondaryImageUrl:"",subText:""},g))}function a(a){a=a.threadID;b("MWLSChatThreadHook.bs").useThread(a);var c=b("MWChatOpenNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN,"settingsCreateGroup");a=b("MWLSLoadParticipants.bs").useParticipants(a);var d=k(a);a=d===void 0;var e=j.useCallback(function(a){if(d!==void 0)return b("bs_curry")._1(c,b("bs_caml_option").some(b("bs_caml_option").valFromOption(d)))},[c,d]),f=b("fbicon")._(h("943402"),20);return j.jsx(b("CometMenuItem.react"),{primaryText:g._("Create group"),onClick:function(a){return b("bs_curry")._1(e,void 0)},icon:f,disabled:a,testid:"messenger_settings_create_group"})}c=a;f.useMWChatSearchTypeaheadDataEntryForOtherParticipant=k;f.make=c}),null);
__d("MWChatSettingsCustomizeEmoji.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeEmojiDialog").__setRef("MWChatSettingsCustomizeEmoji.bs"),dialogProps:{onClose:function(a){}},children:function(a,c){return j.jsx(b("CometMenuItem.react"),{primaryText:g._("Emoji"),onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","emoji");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("642537"),20),ref:c,testid:"messenger_settings_emoji_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsCustomizeTheme.react",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResourceForInteraction","ODS","emptyFunction","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=b("JSResourceForInteraction")("MWChatThreadThemes.react").__setRef("MWChatSettingsCustomizeTheme.react");function a(a){var c=a.disabled;return j.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{onClose:b("emptyFunction")},dialogResource:k,children:function(a){return j.jsx(b("CometMenuItem.react"),{disabled:c,icon:b("fbicon")._(h("787955"),20),onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","color"),a()},primaryText:g._("Color")})}})}}),null);
__d("MWChatSettingsEditNicknames.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;var c=g._("Nicknames"),d=b("fbicon")._(h("477831"),20);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSNicknameDialog.react").__setRef("MWChatSettingsEditNicknames.bs"),dialogProps:{thread:a,onClose:function(a){}},children:function(a,e){return j.jsx(b("CometMenuItem.react"),{primaryText:c,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","nickname");return b("bs_curry")._1(a,void 0)},icon:d,ref:e,testid:"messenger_settings_nickname_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsIgnoreMessages.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.disabled;var c=a!==void 0?a:!1;return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatIgnoreMessagesDialogForJSResource.react").__setRef("MWChatSettingsIgnoreMessages.bs"),dialogProps:{onChange:function(a){}},children:function(a,d){return j.jsx(b("CometMenuItem.react"),{primaryText:g._("Ignore messages"),onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","ignore_thread");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("578906"),20),ref:d,disabled:c,testid:"messenger_settings_ignore"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsLeaveGroup.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.dispatch;a=a.isBlockedUserInGroup;var d=g._("Leave group"),e=b("fbicon")._(h("538183"),20);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatLeaveConversationDialogForJSResource.react").__setRef("MWChatSettingsLeaveGroup.bs"),dialogProps:{onClose:function(a){},onLeaveGroup:function(a){return c({NAME:"LeaveGroup",VAL:a})},isBlockedUserInGroup:a},children:function(a,c){return j.jsx(b("CometMenuItem.react"),{primaryText:d,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","leave_thread");return b("bs_curry")._1(a,void 0)},icon:e,ref:c,testid:"messenger_settings_leave_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsMembers.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=g._("Members");return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSGroupMembershipDialog.react").__setRef("MWChatSettingsMembers.bs"),dialogProps:{onClose:function(a){}},children:function(a,d){return j.jsx(b("CometMenuItem.react"),{primaryText:c,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","members");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("485103"),20),ref:d,testid:"messenger_settings_member_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsMute.bs",["ix","CometLazyDialogTrigger.react","CometMenuItem.react","JSResource","MWChatUpdateMuteSettingMutation","MWThread_DEPRECATED.bs","MessengerMuteUtils.bs","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.disabled;var c=a!==void 0?a:!1;a=i.useContext(b("MWThread_DEPRECATED.bs").context);var d=a!==void 0&&typeof a!=="string"?a.NAME==="Page":!1,e=b("MessengerMuteUtils.bs").muteActionLabel(d,!1);if(a===void 0)return null;var f=a.VAL;return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatMuteConversationDialogForJSResource.react").__setRef("MWChatSettingsMute.bs"),dialogProps:{title:e,onClose:function(a){},onUpdateMute:function(a){b("MWChatUpdateMuteSettingMutation").commit({thread_fbid:f,mute_duration:a})}},children:function(a,d){return i.jsx(b("CometMenuItem.react"),{primaryText:e,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","mute");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(g("532356"),20),ref:d,disabled:c,testid:"messenger_settings_mute_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsOpenInApp.bs",["fbt","ix","CometMenuItem.react","MWThread_DEPRECATED.bs","MessengerDesktopDeeplinkEventFalcoEvent","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","fbicon","react","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=j.useContext(b("MWThread_DEPRECATED.bs").context);var c=b("uuid")(),d=j.useRef(!1);j.useEffect(function(){d.current||(d.current=!0,b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"chat_settings_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:c,mobile_app_source:"unknown"}}))},[]);var e=function(a){b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"chat_settings_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:c,mobile_app_source:"unknown"}})};if(a!==void 0)return j.jsx(b("CometMenuItem.react"),{primaryText:g._("Open in App"),href:b("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:c,thread:a.VAL,origin:"FB"}).setDomain("www.messenger.com").setProtocol("https").toString(),onClick:e,icon:b("fbicon")._(h("505620"),20),testid:"messenger_settings_open_in_app"});else return null}c=a;f.make=c}),null);
__d("MWChatSettingsOpenInbox.bs",["fbt","ix","CometMenuItem.react","MWThread_DEPRECATED.bs","ODS","XCometMessengerControllerRouteBuilder","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=j.useContext(b("MWThread_DEPRECATED.bs").context);if(a!==void 0)return j.jsx(b("CometMenuItem.react"),{primaryText:g._("Open in Messenger"),href:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:a.VAL}),onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","open_messenger")},icon:b("fbicon")._(h("505620"),20),testid:"messenger_settings_open_inbox"});else return null}c=a;f.make=c}),null);
__d("MWChatSettingsOpenMD.bs",["fbt","ix","CometMenuItem.react","MessengerDesktopPromoEventLogger","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","fbicon","gkx","react","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=j.useRef(!1),d=j.useRef(b("uuid")()).current;j.useEffect(function(){b("gkx")("1749834")&&!c.current&&(c.current=!0,b("MessengerDesktopPromoEventLogger").log({location:"MessengerCometSettingsMenu",event:"Impression",funnelSessionId:d}))},[]);a=function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerCometSettingsMenu",event:"Click",funnelSessionId:d})};var e=b("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:d}).setDomain("www.messenger.com").setProtocol("https").setFragment("startDownload").toString();if(b("gkx")("1749834"))if(b("UserAgent").isPlatform("Mac OS X"))return j.jsx(b("CometMenuItem.react"),{primaryText:g._("New! Messenger App for Mac"),href:e,onClick:a,icon:b("fbicon")._(h("607958"),20),testid:"messenger_settings_macapp"});else if(b("UserAgent").isPlatform("Windows"))return j.jsx(b("CometMenuItem.react"),{primaryText:g._("New! Messenger App for Windows"),href:e,onClick:a,icon:b("fbicon")._(h("607958"),20),testid:"messenger_settings_windowsapp"});else return null;else return null}c=a;f.make=c}),null);
__d("MWChatSettingsOpenPage.bs",["fbt","ix","CometMenuItem.react","ODS","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.href;return j.jsx(b("CometMenuItem.react"),{primaryText:g._("View Page"),href:a,onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","open_page")},icon:b("fbicon")._(h("487663"),20)})}c=a;f.make=c}),null);
__d("MWChatSettingsReportConversation.bs",["fbt","ix","CometLazyDialogTrigger.react","CometMenuItem.react","FRXEntryPoint","JSResource","NFXStoryLocation","ODS","bs_caml_option","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.id,d=a.reportingToken,e=a.onClick;if(typeof c==="string")a=void 0;else{c=c.NAME;a=c==="Group"?{entryPoint:b("FRXEntryPoint").REPORT_BUTTON,id:d,location:b("NFXStoryLocation").MESSENGER_GROUP_THREAD_DETAILS}:c==="Page"?{entryPoint:b("FRXEntryPoint").REPORT_BUTTON,id:d,location:b("NFXStoryLocation").MESSENGER_P2B_DIRECT_THREAD_DETAILS}:c==="User"?{entryPoint:b("FRXEntryPoint").REPORT_BUTTON,id:d,location:b("NFXStoryLocation").MESSENGER_DIRECT_THREAD_DETAILS}:void 0}var f=g._("Something's wrong"),i=g._("Give feedback and report the conversation");if(a!==void 0)return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWChatSettingsReportConversation.bs"),dialogProps:b("bs_caml_option").valFromOption(a),children:function(a,c){return j.jsx(b("CometMenuItem.react"),{primaryText:f,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","feedback");b("bs_curry")._1(e,void 0);return b("bs_curry")._1(a,void 0)},secondaryText:i,icon:b("fbicon")._(h("555452"),20),ref:c,testid:"messenger_settings_feedback_menu"})}});else return null}c=a;f.make=c}),null);
__d("MWLSThreadMuteExpireTimeMs.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReStore.bs","SkytaleDB","bs_belt_Option","bs_caml_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0}),function(a){return b("bs_caml_int64").to_float(a.l)})},[c,d])),0)}f.useHook=a}),null);
__d("MWChatSettingsUnmute.bs",["ix","CometMenuItem.react","MWChatUpdateMuteSettingMutation","MWLSThreadMuteExpireTimeMs.bs","MWThread_DEPRECATED.bs","MessengerMuteUtils.bs","bs_caml_option","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=i.useContext(b("MWThread_DEPRECATED.bs").context);var c=b("MWLSThreadMuteExpireTimeMs.bs").useHook(void 0),d=a!==void 0&&typeof a!=="string"?a.NAME==="Page":!1;d=b("MessengerMuteUtils.bs").muteActionLabel(d,!0);c=b("MessengerMuteUtils.bs").mutedUntilLabel(c/1e3);if(a===void 0)return null;var e=a.VAL;a={primaryText:d,onClick:function(a){b("MWChatUpdateMuteSettingMutation").commit({thread_fbid:e,mute_duration:0})},icon:b("fbicon")._(g("652791"),20)};c!==void 0&&(a.secondaryText=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometMenuItem.react"),a)}c=a;f.make=c}),null);
__d("MWChatSettingsViewProfile.bs",["fbt","ix","CometMenuItem.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.href;return j.jsx(b("CometMenuItem.react"),{primaryText:g._("View Profile"),href:a,icon:b("fbicon")._(h("558623"),20)})}c=a;f.make=c}),null);
__d("MWChatHeaderSettings.bs",["CometMenu.react","CometMenuSeparator.react","LsSystemFolder.bs","MWChatCloseTab.bs","MWChatSettingsAddPeople.bs","MWChatSettingsBlockMember.bs","MWChatSettingsBlockPage.bs","MWChatSettingsBlockUser.bs","MWChatSettingsChangeConversationName.bs","MWChatSettingsCreateGroup.bs","MWChatSettingsCustomizeEmoji.bs","MWChatSettingsCustomizeTheme.react","MWChatSettingsDeleteConversation.bs","MWChatSettingsEditNicknames.bs","MWChatSettingsIgnoreMessages.bs","MWChatSettingsLeaveGroup.bs","MWChatSettingsMembers.bs","MWChatSettingsMute.bs","MWChatSettingsOpenInApp.bs","MWChatSettingsOpenInbox.bs","MWChatSettingsOpenMD.bs","MWChatSettingsOpenPage.bs","MWChatSettingsReportConversation.bs","MWChatSettingsUnmute.bs","MWChatSettingsViewProfile.bs","MWLSDeleteThread.bs","MWThreadKey.bs","MWUIThreadCapabilities.bs","MessengerWebEntryPoint","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","ODS","ReQL.bs","ReQLSubscription.bs","ReStore.bs","SkytaleDB","bs_belt_Option","bs_caml_int64","bs_curry","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.id,d=a.isMuted,e=a.isBlocked,f=a.dispatch,g=a.isViewerInGroup,i=a.isBlockedUserInGroup,j=a.isGroup,k=a.participants,l=a.reportingToken,m=a.isEmptyThread,n=a.disableCustomization,o=a.openPageURL;a=a.canonicalThreadProfileLink;g=g!==void 0?g:!1;i=i!==void 0?i:!1;j=j!==void 0?j:!1;n=n!==void 0?n:!1;h.useEffect(function(){b("MessengerWebEventsFalcoEvent.bs").log(function(){var d;if(typeof c==="string")d=null;else{var a=c.NAME;d=a==="User"||a==="Page"?c.VAL:null}return{event_name:b("MessengerWebEvent").OPEN_THREAD_SETTINGS_MENU,other_user_fbid:d,thread_fbid:typeof c==="string"||c.NAME!=="Group"?null:c.VAL}})},[c]);var p=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").useCapabilities,void 0),q=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canCustomizeThreadName,p),r=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canCustomizeTheme,p),s=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canCustomizeEmoji,p),t=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canCustomizeNicknames,p),u=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canCreateGroup,p),v=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canAddMember,p);p=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canIgnoreMessages,p);var w=b("gkx")("1846003"),x=b("ReStore.bs").useHook(void 0),y=b("MWThreadKey.bs").useIdMemoizedExn(void 0),z=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(x,"threads").asc,{hd:y,tl:0})},[x,y]));p=z!==void 0?b("bs_caml_int64").neq(z.A,b("LsSystemFolder.bs").other)&&p:!1;var A=b("MWLSDeleteThread.bs").useDeleteThread(void 0),B=b("MWChatCloseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),C=function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","delete_conv");b("bs_curry")._1(A,c);return b("bs_curry")._1(B,c)},D=b("gkx")("1123"),E=b("gkx")("1837053");if(n||b("bs_belt_Option").getWithDefault(e,!0)||typeof c==="string")n=null;else{var F=c.NAME;n=F==="User"||F==="Group"?h.jsxs(h.Fragment,{children:[r||s||t||j&&q?h.jsx(b("CometMenuSeparator.react"),{}):null,r&&!m?h.jsx(b("MWChatSettingsCustomizeTheme.react"),{}):null,s&&!m?h.jsx(b("MWChatSettingsCustomizeEmoji.bs").make,{}):null,t&&!m&&w?h.jsx(b("MWChatSettingsEditNicknames.bs").make,{thread:z}):null,j&&q&&b("gkx")("1841593")?h.jsx(b("MWChatSettingsChangeConversationName.bs").make,{thread:z}):null]}):null}if(p&&typeof c!=="string"){F=c.NAME;r=F==="User"||F==="Group"?h.jsx(b("MWChatSettingsIgnoreMessages.bs").make,{disabled:m}):null}else r=null;if(typeof c==="string")s=null;else{t=c.NAME;s=t==="Page"?e!==void 0?h.jsx(b("MWChatSettingsBlockPage.bs").make,{isBlocked:e}):null:t==="User"&&e!==void 0?h.jsx(b("MWChatSettingsBlockUser.bs").make,{targetFbid:c.VAL,isBlocked:e,onClick:function(a){}}):null}return h.jsxs(b("CometMenu.react"),{autoFocus:!0,children:[D&&E?h.jsx(b("MWChatSettingsOpenInApp.bs").make,{}):h.jsx(b("MWChatSettingsOpenInbox.bs").make,{}),h.jsx(b("MWChatSettingsOpenMD.bs").make,{}),b("bs_belt_Option").mapWithDefault(a,null,function(a){return h.jsx(b("MWChatSettingsViewProfile.bs").make,{href:a})}),n,g?h.jsxs(h.Fragment,{children:[h.jsx(b("CometMenuSeparator.react"),{}),h.jsx(b("MWChatSettingsMembers.bs").make,{}),b("gkx")("1480724")&&v?h.jsx(b("MWChatSettingsAddPeople.bs").make,{dispatch:f}):null,h.jsx(b("MWChatSettingsLeaveGroup.bs").make,{dispatch:f,isBlockedUserInGroup:i})]}):null,o!==void 0?h.jsxs(h.Fragment,{children:[h.jsx(b("CometMenuSeparator.react"),{}),h.jsx(b("MWChatSettingsOpenPage.bs").make,{href:o})]}):null,typeof c==="string"||!(c.NAME==="User"&&u)?null:h.jsxs(h.Fragment,{children:[h.jsx(b("CometMenuSeparator.react"),{}),h.jsx(b("MWChatSettingsCreateGroup.bs").make,{threadID:c})]}),h.jsx(b("CometMenuSeparator.react"),{}),b("bs_belt_Option").getWithDefault(e,!0)?null:d?h.jsx(b("MWChatSettingsUnmute.bs").make,{}):h.jsx(b("MWChatSettingsMute.bs").make,{disabled:m}),r,s,typeof c==="string"||!(c.NAME==="Group"&&g)?null:h.jsx(b("MWChatSettingsBlockMember.bs").make,{participants:k,threadFbid:c.VAL}),h.jsx(b("CometMenuSeparator.react"),{}),h.jsx(b("MWChatSettingsDeleteConversation.bs").make,{disabled:m,onClick:C}),l!==void 0?h.jsx(b("MWChatSettingsReportConversation.bs").make,{id:c,reportingToken:l,onClick:function(a){}}):null],withArrow:!0})}c=a;f.make=c}),null);
__d("MWChatHeaderSettings.react",["MWChatHeaderSettings.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatHeaderSettings.bs").make;e.exports=a}),null);
__d("MWChatContextualActionsMenu.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometLazyDialogTrigger.react","CometPopover.react","CometPressable.react","JSResource","KeyCommandHandler.react","LsTargetType.bs","MWChatMessageCellFocusTable.bs","MWLSLogMessageClick.bs","ODS","UseMWChatForward.re","bs_curry","cr:1906113","focusScopeQueries","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={itemContainer:{display:"j83agx80",boxSizing:"rq0escxv",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b",justifyContent:"taijpn5t",color:"oo9gr5id",fontSize:"gfeo3gy3"},button:{paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"}};c={key:b("CometKeys").UP};d={key:b("CometKeys").DOWN};var l=[{command:c,description:g._("Close more actions submenu"),handler:function(a){}},{command:d,description:g._("Close more actions submenu"),handler:function(a){}}];function a(a){var c=a.onClose,d=a.onRemoveLocally,e=a.onRemoveGlobally,f=a.onForward,h=a.onReply,m=a.checkCanRemoveGlobally,n=a.showForward,o=a.showRemove,p=a.showReply,q=a.messageID,r=a.isSaved,s=a.isPinned,t=a.toggleSaveStatus,u=a.forwardLabel,v=a.replyLabel,w=a.closeActionsMenu,x=g._("Remove message");a=b("gkx")("1992105")?n:!1;var y=g._("Remind me");n=r?g._("Unsave"):g._("Save");var z=b("UseMWChatForward.re").useMWChatForward({onSend:b("bs_curry").__1(f),messageID:q});r=function(a){var d=a.key;if(d==="Escape")return b("bs_curry")._1(w,void 0);else if(d==="ArrowUp"||d==="ArrowDown"){b("bs_curry")._1(c,void 0);a.stopPropagation();return}else if(d==="ArrowLeft"||d==="ArrowRight"||d==="PageUp"||d==="PageDown"||d==="Home"||d==="End"){a.stopPropagation();return}else return};f=g._("More actions");return j.jsx(b("CometPopover.react"),{withArrow:!0,autoFocus:!0,children:j.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:l,xstyle:!1,children:j.jsx(b("KeyCommandHandler.react"),{children:j.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:!0,children:j.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Row.make,{children:j.createElement("div",{role:"menu","aria-orientation":"horizontal","aria-label":f,className:(i||(i=b("stylex")))(k.itemContainer)},o?j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatRemoveMessageDialogForJSResource.react").__setRef("MWChatContextualActionsMenu.bs"),dialogProps:{onClose:c,onRemoveLocally:d,onRemoveGlobally:e,checkCanRemoveGlobally:m},children:function(a,c){return j.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:j.jsx(b("CometPressable.react"),{"aria-label":x,role:"menuitem",ref:c,testid:"messenger_contextual_actions_remove_button",onPress:function(c){b("ODS").bumpEntityKey(3185,"mwchat_actions","remove");b("MWLSLogMessageClick.bs").logMessageClicked(q,b("LsTargetType.bs").removeButton,void 0,void 0);return b("bs_curry")._1(a,void 0)},overlayRadius:5,xstyle:k.button,focusable:!0,children:g._("Remove")})})}}):null,a?j.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:j.jsx(b("CometPressable.react"),{"aria-label":u,role:"menuitem",testid:"messenger_contextual_actions_forward_button",onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_actions","forward");b("MWLSLogMessageClick.bs").logMessageClicked(q,b("LsTargetType.bs").forwardButton,void 0,void 0);if(!(z==null))return b("bs_curry")._1(z.onClick,void 0)},overlayRadius:5,xstyle:k.button,focusable:!0,children:u})}):null,p?j.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:j.jsx(b("CometPressable.react"),{"aria-label":v,role:"menuitem",testid:"messenger_contextual_actions_reply_button",onPress:function(a){return b("bs_curry")._1(h,void 0)},overlayRadius:5,xstyle:k.button,focusable:!0,children:v})}):null,b("gkx")("1906114")?j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("ChatGeminiSetReminderDialog.react").__setRef("MWChatContextualActionsMenu.bs"),dialogProps:{onClose:function(a){}},children:function(a,c){return j.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:j.jsx(b("CometPressable.react"),{"aria-label":y,role:"menuitem",ref:c,onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:5,xstyle:k.button,focusable:!0,children:y})})}}):null,b("gkx")("1906115")?j.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:j.jsx(b("CometPressable.react"),{"aria-label":n,role:"menuitem",onPress:function(a){b("bs_curry")._1(t,void 0);b("ODS").bumpEntityKey(3185,"mwchat_actions","toggleSaveStatus");b("bs_curry")._1(c,void 0);return b("bs_curry")._1(w,void 0)},overlayRadius:5,xstyle:k.button,focusable:!0,children:n})}):null,b("cr:1906113")==null?null:j.jsx(b("cr:1906113").make,{isPinned:s,onClose:function(a){b("bs_curry")._1(c,void 0);return b("bs_curry")._1(w,void 0)}}))})}),onKeyDown:r})})})}e=b("cr:1906113");a=a;f.styles=k;f.$MWChatPinnedMessageAction$requireCond=b("cr:1906113");f.mwChatPinnedMessageAction=e;f.keyUp=c;f.keyDown=d;f.commandConfigs=l;f.make=a}),null);
__d("MWChatContextualActionsMenu.re",["MWChatContextualActionsMenu.bs"],(function(a,b,c,d,e,f){a=b("MWChatContextualActionsMenu.bs").make;f.make=a}),null);
__d("MWChatContextualActionsMenuDeferred.react",["MWChatContextualActionsMenu.re"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatContextualActionsMenu.re").make;e.exports=a}),null);
__d("LsActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).zero;d=a.one;e=a.mk(2,0);b=a.mk(3,0);var g=a.mk(4,0),h=a.mk(5,0),i=a.mk(6,0),j=a.mk(7,0),k=a.mk(8,0),l=a.mk(9,0),m=a.mk(10,0),n=a.mk(11,0),o=a.mk(12,0),p=a.mk(13,0),q=a.mk(14,0),r=a.mk(15,0),s=a.mk(16,0),t=a.mk(17,0),u=a.mk(18,0),v=a.mk(19,0),w=a.mk(20,0),x=a.mk(21,0),y=a.mk(22,0),z=a.mk(23,0),A=a.mk(24,0),B=a.mk(25,0),C=a.mk(26,0),D=a.mk(27,0),E=a.mk(28,0),F=a.mk(29,0),G=a.mk(30,0),H=a.mk(31,0),I=a.mk(32,0),J=a.mk(33,0),K=a.mk(34,0),L=a.mk(35,0),M=a.mk(36,0),N=a.mk(37,0),O=a.mk(38,0),P=a.mk(39,0),Q=a.mk(40,0),R=a.mk(41,0),S=a.mk(42,0),T=a.mk(43,0),U=a.mk(44,0),V=a.mk(45,0),W=a.mk(46,0),X=a.mk(47,0),Y=a.mk(48,0),Z=a.mk(49,0),$=a.mk(50,0),aa=a.mk(51,0),ba=a.mk(52,0),ca=a.mk(53,0),da=a.mk(54,0),ea=a.mk(55,0),fa=a.mk(56,0),ga=a.mk(57,0),ha=a.mk(58,0),ia=a.mk(59,0),ja=a.mk(60,0),ka=a.mk(61,0),la=a.mk(62,0),ma=a.mk(63,0),na=a.mk(64,0),oa=a.mk(65,0),pa=a.mk(66,0),qa=a.mk(67,0),ra=a.mk(68,0),sa=a.mk(69,0),ta=a.mk(70,0),ua=a.mk(71,0),va=a.mk(72,0),wa=a.mk(73,0),xa=a.mk(74,0),ya=a.mk(75,0),za=a.mk(76,0),Aa=a.mk(77,0),Ba=a.mk(78,0);a=a.mk(79,0);f.unknown=c;f.accept=d;f.add=e;f.call=b;f.callAgain=g;f.callBack=h;f.camera=i;f.collapse=j;f.decline=k;f.$$delete=l;f.expand=m;f.joinCall=n;f.joinVideoChat=o;f.mute=p;f.play=q;f.rateTranslation=r;f.reaction=s;f.retry=t;f.save=u;f.saveAll=v;f.saveToFb=w;f.seek=x;f.send=y;f.share=z;f.tranferCall=A;f.translate=B;f.unmute=C;f.videoChat=D;f.view=E;f.viewProfile=F;f.wave=G;f.postback=H;f.openUrl=I;f.openNative=J;f.close=K;f.adClick=L;f.adHide=M;f.pause=N;f.quickReplyText=O;f.copy=P;f.forward=Q;f.report=R;f.viewPack=S;f.openExtension=T;f.piiNative=U;f.piiWebview=V;f.openMenu=W;f.block=X;f.unblock=Y;f.accountLink=Z;f.accountUnlink=$;f.addToCalendar=aa;f.closeBrowser=ba;f.getContext=ca;f.beginShareflow=da;f.askPermission=ea;f.getGrantedPermissions=fa;f.getSupportedFeatures=ga;f.quickReplyUserInfo=ha;f.reactionUpdate=ia;f.reactionDelete=ja;f.reactionNew=ka;f.openReceipt=la;f.getStarted=ma;f.iceBreaker=na;f.newConversation=oa;f.nextConversation=pa;f.previousConversation=qa;f.openSettings=ra;f.customerFeedback=sa;f.submit=ta;f.guestChatHistory=ua;f.editCustomizeReaction=va;f.enterCustomizeReaction=wa;f.exitCustomizeReaction=xa;f.openAppLink=ya;f.iceBreakerCta=za;f.enterSkinTonePicker=Aa;f.selectSkinTonePicker=Ba;f.emojiSearchTap=a}),null);
__d("LsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2051889");c=b("FalcoLoggerInternal").create("ls_message_action",a);e.exports=c}),null);
__d("MWChatCustomReactionsLog.bs",["LSInt64.bs","LsActionType.bs","LsFalcoEventEntryPoint.bs","LsMessageActionFalcoEvent","LsThreadType.bs","bs_caml_int64","bs_caml_option","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("LsMessageActionFalcoEvent").log(function(){return{action:{container_module:"MWChatEmojiPicker",type:b("bs_caml_int64").to_int32(b("LsActionType.bs").enterCustomizeReaction)},message:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions,id:a,recipient_id:void 0,attachment_type:""},thread:{group_size:b("LSInt64.bs").string(b("bs_caml_int64").zero),id:c!==void 0?b("bs_int64").to_string(c):void 0,type:b("bs_caml_int64").to_int32(b("LsThreadType.bs").oneToOne)},error:{message:void 0},reaction:void 0,previous_reaction:void 0,extra:void 0}})}function c(a,c,d,e,f){b("LsMessageActionFalcoEvent").log(function(){var f={};d!==void 0&&(f.is_changed=d?"1":"0");e!==void 0&&(f.reset=e?"1":"0");return{action:{container_module:"MWChatCustomizeReactionsDialog",type:b("bs_caml_int64").to_int32(b("LsActionType.bs").exitCustomizeReaction)},message:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions,id:a,recipient_id:void 0,attachment_type:""},thread:{group_size:b("LSInt64.bs").string(b("bs_caml_int64").zero),id:c!==void 0?b("bs_int64").to_string(c):void 0,type:b("bs_caml_int64").to_int32(b("LsThreadType.bs").oneToOne)},error:{message:void 0},reaction:void 0,previous_reaction:void 0,extra:b("bs_caml_option").some(f)}})}function d(a,c,d,e,f){b("LsMessageActionFalcoEvent").log(function(){var g={};g.tray_index=String(d);return{action:{container_module:"MWChatCustomizeReactionsDialog",type:b("bs_caml_int64").to_int32(b("LsActionType.bs").editCustomizeReaction)},message:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions,id:a,recipient_id:void 0,attachment_type:""},thread:{group_size:b("LSInt64.bs").string(b("bs_caml_int64").zero),id:c!==void 0?b("bs_int64").to_string(c):void 0,type:b("bs_caml_int64").to_int32(b("LsThreadType.bs").oneToOne)},error:{message:void 0},reaction:f,previous_reaction:e,extra:b("bs_caml_option").some(g)}})}f.logEnterCustomizeFlow=a;f.logExitCustomizeFlow=c;f.logEditCustomizeFlow=d}),null);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743853");c=b("FalcoLoggerInternal").create("ls_message_click",a);e.exports=c}),null);