if (self.CavalryLogger) { CavalryLogger.start_js(["oohZRZb"]); }

__d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker",[],(function(a,b,c,d,e,f){"use strict";a=typeof Symbol==="function"&&typeof Symbol()==="symbol"?Symbol():Object.freeze({});f.INDETERMINATE_ADJOINING_MEDIA_URL=a}),null);
__d("CometMediaViewerDispatcherContext",["emptyFunction","react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext(b("emptyFunction"));e.exports=c}),null);
__d("CometMediaViewerNavigationTapTarget.react",["ix","CometMediaViewerDispatcherContext","CometPressable.react","CometProgressSkittleIndeterminate.react","CometTrackingNodeProvider.react","CometVisualCompletionAttributes","TetraishSkittleIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react"),k={buttonContainerBackground:{backgroundColor:"r898ja9m"},buttonContainerHoverLeft:{opacity:"pedkr2u6",transform:"lhh4dqlf"},buttonContainerHoverRight:{opacity:"pedkr2u6",transform:"k9ht9y5y"},fullHeight:{height:"datstx6m"},invisible:{opacity:"b5wmifdl",transitionDuration:"ijkhr0an",transitionTimingFunction:"s13u9afw",visibility:"kr9hpln1"},navButton:{alignItems:"bp9cbjyn",display:"j83agx80",opacity:"l8rlqa9s",paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a",position:"l9j0dhe7",transitionDuration:"ms05siws",transitionProperty:"pnx7fd3z",transitionTimingFunction:"msbwk0y7",willChange:"srfxjet1"},root:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",opacity:"pedkr2u6",position:"l9j0dhe7",transitionDuration:"c5ndavph",transitionProperty:"l23jz15m",transitionTimingFunction:"ot9fgl3s",willChange:"ffxd5cwt",zIndex:"tkr6xdv7"},tapTargetOverlay:{height:"datstx6m"}};function a(a){var c=a.direction,d=a.hoverOverlayHeight,e=d===void 0?"default":d;d=a.invisible;d=d===void 0?!1:d;var f=a.isLoading,h=f===void 0?!1:f;f=a.label;var l=a.onClick,m=a.testid;m=a.trackingNode;var n=j.useContext(b("CometMediaViewerDispatcherContext"));a=function(){n({isHovered:!0,type:"SET_IS_HOVERED"})};var o=function(){n({isHovered:!1,type:"SET_IS_HOVERED"})};return j.jsx("div",babelHelpers["extends"]({},b("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{className:(i||(i=b("stylex")))(k.root,d&&k.invisible,e==="default"&&k.fullHeight),"data-testid":void 0,onMouseEnter:a,onMouseLeave:o,children:j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:m,children:j.jsx(b("CometPressable.react"),{"aria-label":f,disabled:h,focusable:!1,onPress:l,testid:void 0,xstyle:e==="default"&&k.tapTargetOverlay,children:function(a){a=a.hovered;return j.jsx("div",{className:(i||(i=b("stylex")))(k.navButton,e==="default"&&k.buttonContainerBackground,a&&!h&&(c==="previous"?k.buttonContainerHoverLeft:k.buttonContainerHoverRight)),children:h?j.jsx(b("CometProgressSkittleIndeterminate.react"),{size:48}):j.jsx(b("TetraishSkittleIcon.react"),{color:"gray",icon:c==="previous"?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),size:48})})}})})}))}}),null);
__d("CometMediaViewerViewStateContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext({isHovered:!1,prevMouseX:0,prevMouseY:0,prevScale:1,scale:1,translateX:0,translateY:0});e.exports=c}),null);
__d("CometMediaViewerStage.react",["fbt","CometFullScreen","CometKeys","CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker","CometMediaViewerNavigationTapTarget.react","CometMediaViewerViewStateContext","CometProductTagFunnelIDContext","Locale","cometGetKeyCommandConfig","gkx","qex","react","stylex","useCometRoute","useCometRouterDispatcher","useDebounced","useLayerKeyCommands","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react"),k=b("gkx")("1299319"),l=b("gkx")("1745416"),m=2e3;function a(a){var c=a.backgroundColor;c=c===void 0?"default":c;var d=a.initialTracePolicy,e=a.isPlayable;e=e===void 0?!1:e;var f=a.nextMediaURI,h=a.onNavigatePhoto,n=a.prevMediaURI,o=a.storyRenderLocation,p=a.subOrigin,q=a.useKeyCommands,r=q===void 0?!0:q,s=j.useContext(b("CometProductTagFunnelIDContext")),t=b("useCometRouterDispatcher")();q=j.useState(!1);var u=q[0],v=q[1],w=j.useContext(b("CometMediaViewerViewStateContext")),x=j.useRef(!0);q=function(){return y.isPending()?z():y()};var y=b("useDebounced")(function(){v(!1),z()},m,!0),z=b("useDebounced")(function(){E==null&&!w.isHovered&&v(!0),x.current=!1},m,!1),A=j.useRef(null);b("useLayoutEffect_SAFE_FOR_SSR")(function(){z(),A.current&&x.current&&A.current.focus()});var B=j.useCallback(function(){t!=null&&t.popPushView()},[t]),C=b("qex")._("105"),D=j.useState(null),E=D[0],F=D[1],G=j.useCallback(function(){if(C==="defer_show_spinner_on_interaction_if_still_loading"&&f===b("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL){F("next");return}if(t==null||typeof f!=="string")return;h&&h();t.go(f,{passthroughProps:{initialTracePolicy:d,productTagFunnelID:s,storyRenderLocation:o,subOrigin:p},target:"self",traceParams:{navigation_source:"CometMediaViewer_next"}})},[C,f,t,h,d,s,o,p]),H=j.useCallback(function(){if(C==="defer_show_spinner_on_interaction_if_still_loading"&&n===b("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL){F("prev");return}if(t==null||typeof n!=="string")return;h&&h();t.go(n,{passthroughProps:{initialTracePolicy:d,productTagFunnelID:s,storyRenderLocation:o,subOrigin:p},target:"self",traceParams:{navigation_source:"CometMediaViewer_prev"}})},[C,n,t,h,d,s,o,p]);j.useEffect(function(){if(C!=="defer_show_spinner_on_interaction_if_still_loading")return;switch(E){case"next":f!==b("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&(F(null),z(),G());break;case"prev":n!==b("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&(F(null),z(),H());break;default:break}},[G,H,z,f,E,C,n]);b("useCometRoute")(typeof n==="string"?n:null);b("useCometRoute")(typeof f==="string"?f:null);var I=g._("Previous photo"),J=g._("Next photo"),K=j.useCallback(function(){var a=b("CometFullScreen").getFullScreenElement();if(a==null){a=document.documentElement;a!=null&&b("CometFullScreen").requestFullScreen(a)}else b("CometFullScreen").exitFullScreen()},[]),L=f===b("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL||typeof f==="string"&&f!=="",M=n===b("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL||typeof n==="string"&&n!=="";D=!M||u||l;u=!L||u||l;var N=j.useMemo(function(){if(!r||l)return[];var a=[];M&&(a.push({command:{key:b("CometKeys").PREVIOUS},description:I,handler:H}),a.push(b("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","viewPrevious",H)));L&&(a.push({command:{key:b("CometKeys").NEXT},description:J,handler:G}),a.push(b("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","viewNext",G)));a.push(b("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","fullscreen",K));return a},[G,H,L,M,J,I,K,r]);b("useLayerKeyCommands")(N);N=E==="prev"||n===b("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&C==="defer_and_show_spinner_while_loading";D=j.jsx(b("CometMediaViewerNavigationTapTarget.react"),{direction:b("Locale").isRTL()?"next":"previous",hoverOverlayHeight:e?"auto":"default",invisible:D,isLoading:N,label:I,onClick:H,testid:void 0,trackingNode:143});N=E==="next"||f===b("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&C==="defer_and_show_spinner_while_loading";e=j.jsx(b("CometMediaViewerNavigationTapTarget.react"),{direction:b("Locale").isRTL()?"previous":"next",hoverOverlayHeight:e?"auto":"default",invisible:u,isLoading:N,label:J,onClick:G,testid:void 0,trackingNode:142});return j.jsx("div",{className:(i||(i=b("stylex"))).dedupe({"display-1":"j83agx80","flex-direction-1":"cbu4d94t","flex-grow-1":"buofh1pr","height-1":"datstx6m","min-width-1":"p01isnhg","position-1":"l9j0dhe7","outline-8.1":"iqfcb0g7"},c==="default"?{"background-color-1":"tqsryivl"}:null,c==="dark"?{"background-color-1":"iuug3ofb"}:null),onMouseMove:q,ref:A,tabIndex:"0",children:j.jsxs("div",{className:"iqfcb0g7 l9j0dhe7 taijpn5t datstx6m buofh1pr j83agx80 bp9cbjyn",children:[j.jsxs("div",{className:"kr520xx4 j9ispegn pmk7jnqg i1fnvgqd n7fi1qx3 j83agx80 i09qtzwb bp9cbjyn","data-name":"media-viewer-nav-container",children:[!k&&j.jsx("div",{"aria-hidden":!0,className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb","data-testid":void 0,onClick:B}),D,e]}),a.children]})})}}),null);